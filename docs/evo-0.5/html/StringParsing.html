<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Evo C++ Library v0.5: String Parsing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Evo C++ Library v0.5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">String Parsing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This shows different approaches for string parsing.</p>
<dl class="section user"><dt>Whitespace</dt><dd></dd></dl>
<p>Many Evo methods skip or strip whitespace. This may or may not include newlines &ndash; this will be noted in the method documentation.</p>
<ul>
<li>Newlines are often used to define structure with plain text so it doesn't always make sense to skip them</li>
<li>When performance is critical, code that only skips spaces and tabs is generally faster than a version that also skips newlines (even with SSE optimization)</li>
<li>Tokenizers usually don't skip newlines</li>
<li>Methods like <a class="el" href="classevo_1_1_string.html#add497c4341fa8d4da8b95927bce958bc" title="Strip left (beginning) and right (ending) whitespace (spaces and tabs). ">String::strip()</a> have a variant like <a class="el" href="classevo_1_1_string.html#ac0758ed32ccfd79654a00d0674cd3fd9" title="Strip left (beginning) and right (ending) whitespace from string, including newlines. ">String::strip2()</a> that also strips newlines</li>
</ul>
<dl class="section user"><dt>Check Null or Empty</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="string_8h.html">evo/string.h</a>&gt;</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceevo.html">evo</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">    <a class="code" href="classevo_1_1_string.html">String</a> str;</div><div class="line"></div><div class="line">    <span class="comment">// Null string</span></div><div class="line">    <span class="keywordflow">if</span> (str.<a class="code" href="classevo_1_1_list.html#ab561ac96aa86fdf1cc003d863d3c03e2">null</a>())</div><div class="line">        { }</div><div class="line"></div><div class="line">    <span class="comment">// Null string is also considered empty</span></div><div class="line">    <span class="keywordflow">if</span> (str.<a class="code" href="classevo_1_1_list.html#ac6e61de369e994009e36f344f99c15ad">empty</a>())</div><div class="line">        { }</div><div class="line"></div><div class="line">    <span class="comment">// Non-empty string</span></div><div class="line">    <span class="keywordflow">if</span> (!str.<a class="code" href="classevo_1_1_list.html#ac6e61de369e994009e36f344f99c15ad">empty</a>())</div><div class="line">        { }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><dl class="section user"><dt>Splitting</dt><dd></dd></dl>
<p>Splitting to substrings: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="string_8h.html">evo/string.h</a>&gt;</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceevo.html">evo</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">    <a class="code" href="classevo_1_1_string.html">String</a> str(<span class="stringliteral">&quot;foo=bar&quot;</span>), left, right;</div><div class="line"></div><div class="line">    <span class="comment">// Split to left/right on first occurrence of &#39;=&#39;</span></div><div class="line">    str.<a class="code" href="classevo_1_1_string.html#a1031324ddc0d652da97731943953e168">split</a>(<span class="charliteral">&#39;=&#39;</span>, left, right);</div><div class="line"></div><div class="line">    <span class="comment">// Split to just left</span></div><div class="line">    str.<a class="code" href="classevo_1_1_string.html#a1031324ddc0d652da97731943953e168">split</a>(<span class="charliteral">&#39;=&#39;</span>, left);</div><div class="line"></div><div class="line">    <span class="comment">// Split to just right</span></div><div class="line">    str.<a class="code" href="classevo_1_1_string.html#a1031324ddc0d652da97731943953e168">split</a>(<span class="charliteral">&#39;=&#39;</span>, <a class="code" href="namespaceevo.html#a87e905b740b8d611459b8f372aba9fbbaa944b069897379b4df4ccdd2b2f8043a">vNULL</a>, right);</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>Splitting to a list with generic conversion: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="string_8h.html">evo/string.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="strtok_8h.html">evo/strtok.h</a>&gt;</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceevo.html">evo</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">    <a class="code" href="classevo_1_1_string.html">String</a> str(<span class="stringliteral">&quot;1,2,3&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Split into list</span></div><div class="line">    <a class="code" href="classevo_1_1_list.html">List&lt;Int&gt;</a> nums;</div><div class="line">    str.<a class="code" href="classevo_1_1_string.html#a1031324ddc0d652da97731943953e168">split</a>&lt;<a class="code" href="classevo_1_1_str_tok.html">StrTok</a>&gt;(nums);</div><div class="line"></div><div class="line">    <span class="comment">// Join back into list</span></div><div class="line">    nums.<a class="code" href="classevo_1_1_list.html#aa29660f120f9f226e79c58af018fe426">set</a>();</div><div class="line">    str.<a class="code" href="classevo_1_1_string.html#afa411ad006ea316679c89feb661fc15a">join</a>(nums);  <span class="comment">// set back to: 1,2,3</span></div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>Splitting to a list with generic conversion and alternate tokenizer: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="string_8h.html">evo/string.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="strtok_8h.html">evo/strtok.h</a>&gt;</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceevo.html">evo</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">    <a class="code" href="classevo_1_1_string.html">String</a> str(<span class="stringliteral">&quot;1,&#39;2,2&#39;,3&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Split into list, with tokenizer supporting quoting</span></div><div class="line">    <a class="code" href="classevo_1_1_list.html">List&lt;String&gt;</a> nums;</div><div class="line">    str.<a class="code" href="classevo_1_1_string.html#a1031324ddc0d652da97731943953e168">split</a>&lt;<a class="code" href="structevo_1_1_str_tok_variant.html">StrTokQ</a>&gt;(nums);</div><div class="line"></div><div class="line">    <span class="comment">// Join back into list, with quoting</span></div><div class="line">    nums.<a class="code" href="classevo_1_1_list.html#aa29660f120f9f226e79c58af018fe426">set</a>();</div><div class="line">    str.<a class="code" href="classevo_1_1_string.html#a2312dc875dce742080cdf26a6b3127e3">joinq</a>(nums);  <span class="comment">// set back to: 1,&#39;2,2&#39;,3</span></div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><dl class="section user"><dt>Tokenizing</dt><dd></dd></dl>
<p><a class="el" href="classevo_1_1_string.html" title="String container. ">String</a> and <a class="el" href="structevo_1_1_sub_string.html" title="Reference and access existing string data. ">SubString</a> have methods for extracting tokens: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="substring_8h.html">evo/substring.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="io_8h.html">evo/io.h</a>&gt;</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceevo.html">evo</a>;</div><div class="line"><span class="keyword">static</span> <a class="code" href="structevo_1_1_console.html">Console</a>&amp; c = <a class="code" href="group___evo_i_o.html#ga9652bb34b10cb7b6b47c3bb17a0aa008">con</a>();</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">    <a class="code" href="structevo_1_1_sub_string.html">SubString</a> str(<span class="stringliteral">&quot;one,two,three&quot;</span>), value;</div><div class="line">    <span class="keywordflow">while</span> (str.<a class="code" href="classevo_1_1_string.html#a54f8a91d8a43c56e9b853afad6cef1ee">token</a>(value, <span class="charliteral">&#39;,&#39;</span>))</div><div class="line">        c.<a class="code" href="structevo_1_1_console.html#aa3d970bba266de23123819eee184108b">out</a> &lt;&lt; value &lt;&lt; <a class="code" href="namespaceevo.html#aaad808a54ff380fa951955d233d8c3f7">NL</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p><a class="el" href="classevo_1_1_str_tok.html" title="String forward tokenizer. ">StrTok</a> classes can parse into substring tokens: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="substring_8h.html">evo/substring.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="strtok_8h.html">evo/strtok.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="io_8h.html">evo/io.h</a>&gt;</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceevo.html">evo</a>;</div><div class="line"><span class="keyword">static</span> <a class="code" href="structevo_1_1_console.html">Console</a>&amp; c = <a class="code" href="group___evo_i_o.html#ga9652bb34b10cb7b6b47c3bb17a0aa008">con</a>();</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">    <span class="comment">// Tokenize in order (left to right)</span></div><div class="line">    <a class="code" href="classevo_1_1_str_tok.html">StrTok</a> tok1(<span class="stringliteral">&quot;one,two,three&quot;</span>);</div><div class="line">    <span class="keywordflow">while</span> (tok1.next(<span class="charliteral">&#39;,&#39;</span>))</div><div class="line">        c.<a class="code" href="structevo_1_1_console.html#aa3d970bba266de23123819eee184108b">out</a> &lt;&lt; tok1.value() &lt;&lt; <a class="code" href="namespaceevo.html#aaad808a54ff380fa951955d233d8c3f7">NL</a>;</div><div class="line"></div><div class="line">    <span class="comment">// Tokenize in reverse (right to left)</span></div><div class="line">    <a class="code" href="classevo_1_1_str_tok_r.html">StrTokR</a> tok2(<span class="stringliteral">&quot;one,two,three&quot;</span>);</div><div class="line">    <span class="keywordflow">while</span> (tok2.next(<span class="charliteral">&#39;,&#39;</span>))</div><div class="line">        c.<a class="code" href="structevo_1_1_console.html#aa3d970bba266de23123819eee184108b">out</a> &lt;&lt; tok2.value() &lt;&lt; <a class="code" href="namespaceevo.html#aaad808a54ff380fa951955d233d8c3f7">NL</a>;</div><div class="line"></div><div class="line">    <span class="comment">// Tokenize with quoting -- using StrTokQ</span></div><div class="line">    <a class="code" href="structevo_1_1_str_tok_variant.html">StrTokQ</a> tok3(<span class="stringliteral">&quot;one,&#39;two,two&#39;,three&quot;</span>);</div><div class="line">    <span class="keywordflow">while</span> (tok3.next(<span class="charliteral">&#39;,&#39;</span>))</div><div class="line">        c.<a class="code" href="structevo_1_1_console.html#aa3d970bba266de23123819eee184108b">out</a> &lt;&lt; tok3.value() &lt;&lt; <a class="code" href="namespaceevo.html#aaad808a54ff380fa951955d233d8c3f7">NL</a>;</div><div class="line"></div><div class="line">    <span class="comment">// Tokenize with quoting -- using nextq()</span></div><div class="line">    <a class="code" href="classevo_1_1_str_tok.html">StrTok</a> tok4(<span class="stringliteral">&quot;one,&#39;two,two&#39;,three&quot;</span>);</div><div class="line">    <span class="keywordflow">while</span> (tok4.nextq(<span class="charliteral">&#39;,&#39;</span>))</div><div class="line">        c.<a class="code" href="structevo_1_1_console.html#aa3d970bba266de23123819eee184108b">out</a> &lt;&lt; tok4.value() &lt;&lt; <a class="code" href="namespaceevo.html#aaad808a54ff380fa951955d233d8c3f7">NL</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><dl class="section user"><dt>Quoting</dt><dd></dd></dl>
<p><a class="el" href="group___evo_tokenizers.html#gae36f479bfecc8a65a1d21024f6ce2373">StrTokQ</a> and <a class="el" href="classevo_1_1_str_tok.html#a38c13f6b6699b0c791c8c96cd2da32b7" title="Find next token using delimiter with quoting support. ">StrTok::nextq()</a> can parse quoted tokens.</p>
<p>See <a class="el" href="SmartQuoting.html">Smart Quoting</a></p>
<dl class="section user"><dt>Low-Level Scanning</dt><dd></dd></dl>
<ul>
<li><a class="el" href="group___evo_containers.html#gab5799401683473661a8fd1362508c6f9" title="Scan string pointer for next non-whitespace character and return stop pointer. ">str_scan_nws()</a>, <a class="el" href="group___evo_containers.html#ga67034d1c3b7bc59a8041f6fe74949127" title="Scan string pointer for next non-whitespace character in reverse and return new end after stop pointe...">str_scan_nws_r()</a></li>
<li><a class="el" href="group___evo_containers.html#ga6e971eb1c263d72a704a493621d8b1e2" title="Scan string pointer for next non-delimiter and return stop pointer. ">str_scan_ndelim()</a>, <a class="el" href="group___evo_containers.html#ga4be60ca2f9faf381f7a2cbab9d949c06" title="Scan string pointer for next non-delimiter in reverse and return new end after stop pointer...">str_scan_ndelim_r()</a></li>
<li><a class="el" href="group___evo_containers.html#ga7af9672ca4ae539186fdcc796ab030e5" title="Scan string pointer for next delimiter and return stop pointer. ">str_scan_delim()</a>, <a class="el" href="group___evo_containers.html#ga0bd1ba030b49a27b67198f6ae50dadfa" title="Scan string pointer for next delimiter in reverse and return new end after stop pointer. ">str_scan_delim_r()</a></li>
<li><a class="el" href="group___evo_containers.html#ga4d987241324d938dbb488d309b1fa4c9" title="Scan string pointer and extract quoted or unquoted text. ">str_scan_endq()</a>, <a class="el" href="group___evo_containers.html#ga259128db4798e6c8d377ffb25668c9e0" title="Scan string pointer in reverse and extract quoted or unquoted text with a delimiter and return new en...">str_scan_endq_r()</a></li>
<li><a class="el" href="group___evo_containers.html#ga2364b09ca1b3814c3ee45a39934f3456" title="Scan string pointer for char and return stop pointer. ">str_scan_to()</a></li>
<li><a class="el" href="group___evo_containers.html#ga712ceba93c0e95af8764611c83f8484c" title="Scan string pointer for decimal number and return stop pointer. ">str_scan_decimal()</a></li>
<li><a class="el" href="group___evo_containers.html#ga227636a7c9549757d059948b4a2543dc" title="Scan string pointer for hex number and return stop pointer. ">str_scan_hex()</a></li>
<li><a class="el" href="structevo_1_1_str_quoting.html" title="Helpers for determining quoting type to use with string data. ">StrQuoting</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 2 2019 22:50:50 for Evo C++ Library v0.5 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
