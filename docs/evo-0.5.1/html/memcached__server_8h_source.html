<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Evo C++ Library v0.5.1: evo/async/memcached_server.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Evo C++ Library v0.5.1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_eea27f8533654b579e42dec4bd98187a.html">evo</a></li><li class="navelem"><a class="el" href="dir_a367690cd2c9717ce56d61dd6c14d3db.html">async</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">memcached_server.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="memcached__server_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Evo C++ Library</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/* Copyright 2019 Justin Crowell</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">Distributed under the BSD 2-Clause License -- see included file LICENSE.txt for details.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#ifndef INCL_evo_api_memcached_server_h</span></div><div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="memcached__server_8h.html#a953ac5d83b2fe80bad589687eb0ee54b">    9</a></span>&#160;<span class="preprocessor">#define INCL_evo_api_memcached_server_h</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memcached__common_8h.html">memcached_common.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;../ioasync_server.h&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;../strtok.h&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceevo.html">evo</a> {</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">namespace </span>async {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html">   38</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html">MemcachedServerHandlerBase</a> : <span class="keyword">public</span> <a class="code" href="structevo_1_1_async_server_handler.html">AsyncServerHandler</a> {</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a5334742becb3aa7bbe57ea40b85c174a">   39</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="structevo_1_1async_1_1_memcached.html">evo::async::Memcached</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a5334742becb3aa7bbe57ea40b85c174a">Memcached</a>;    </div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153">   42</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153">Command</a> {</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a21bc59db2463270bd112a4609a91ba87">   43</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a21bc59db2463270bd112a4609a91ba87">cUNKNOWN</a> = 0,       </div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153ad534c2adf46025ff0fc059166acf2f4b">   44</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153ad534c2adf46025ff0fc059166acf2f4b">cADD</a>,               </div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a437eba2530ae7e3212c1288bd3759842">   45</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a437eba2530ae7e3212c1288bd3759842">cAPPEND</a>,            </div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153afde91ccd8c40b27e6634a6533bfb2c95">   46</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153afde91ccd8c40b27e6634a6533bfb2c95">cCAS</a>,               </div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a977c8c4664bf47e4f9d870d24c84101d">   47</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a977c8c4664bf47e4f9d870d24c84101d">cDECREMENT</a>,         </div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153af6902e9e3c87a56386d2b3f9417ede2d">   48</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153af6902e9e3c87a56386d2b3f9417ede2d">cDELETE</a>,            </div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a4a354f1cd31b199acab9db67c9457b93">   49</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a4a354f1cd31b199acab9db67c9457b93">cGAT</a>,               </div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a91df06c0dff4340544d040ae33840b34">   50</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a91df06c0dff4340544d040ae33840b34">cGATS</a>,              </div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a4472ee49bc5a1767a47125fba63a038c">   51</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a4472ee49bc5a1767a47125fba63a038c">cGET</a>,               </div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a838989b932cca7e3a32c937845944809">   52</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a838989b932cca7e3a32c937845944809">cGETS</a>,              </div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a25693033ec5db8644eb7e12abb39a07e">   53</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a25693033ec5db8644eb7e12abb39a07e">cINCREMENT</a>,         </div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153abf65490817ebe330a10059df35ec5490">   54</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153abf65490817ebe330a10059df35ec5490">cPREPEND</a>,           </div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a2027a48c80bc31ab6a1ff22a8cc73787">   55</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a2027a48c80bc31ab6a1ff22a8cc73787">cQUIT</a>,              </div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a7c3180b6a16781c3d38fd6f867426ede">   56</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a7c3180b6a16781c3d38fd6f867426ede">cREPLACE</a>,           </div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153ace1f5d59254f04058822ff7f04b45d1d">   57</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153ace1f5d59254f04058822ff7f04b45d1d">cSET</a>,               </div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153ac83dff0c2a6c019a636d9968f9ef7fd1">   58</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153ac83dff0c2a6c019a636d9968f9ef7fd1">cSTATS</a>,             </div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153af7e0e817e9d97b9960eeed4bc8211c67">   59</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153af7e0e817e9d97b9960eeed4bc8211c67">cTOUCH</a>,             </div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153aa79e7b3566c69b7f2558b661d69b0831">   60</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153aa79e7b3566c69b7f2558b661d69b0831">cVERSION</a>,           </div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a30b57100d687fcc9b6b204b16529b593">   61</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a30b57100d687fcc9b6b204b16529b593">cENUM_END</a>           </div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    };</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="group___evo_containers.html#ga74dbbe26bf9a19598be4726357e31e81">EVO_ENUM_MAP_PREFIXED</a>(<a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153">Command</a>, c,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="stringliteral">&quot;add&quot;</span>,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="stringliteral">&quot;append&quot;</span>,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="stringliteral">&quot;cas&quot;</span>,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="stringliteral">&quot;decr&quot;</span>,</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="stringliteral">&quot;delete&quot;</span>,</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="stringliteral">&quot;gat&quot;</span>,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="stringliteral">&quot;gats&quot;</span>,</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="stringliteral">&quot;get&quot;</span>,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="stringliteral">&quot;gets&quot;</span>,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="stringliteral">&quot;incr&quot;</span>,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="stringliteral">&quot;prepend&quot;</span>,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="stringliteral">&quot;quit&quot;</span>,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="stringliteral">&quot;replace&quot;</span>,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="stringliteral">&quot;set&quot;</span>,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="stringliteral">&quot;stats&quot;</span>,</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="stringliteral">&quot;touch&quot;</span>,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="stringliteral">&quot;version&quot;</span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_command_enum.html#af6021d5da5ac3bd68c24934fc8f882d1">   83</a></span>&#160;    );</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html">   86</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html">StoreParams</a> {</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">   87</a></span>&#160;        <a class="code" href="classevo_1_1_string.html">String</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>;         </div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a81a27ce50e78368b0d0de1e8767fd32d">   88</a></span>&#160;        uint32 <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>;       </div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a857deef5062d7df44f687fb2645e48d3">   89</a></span>&#160;        int64  <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a857deef5062d7df44f687fb2645e48d3">expire</a>;      </div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9db2982ee588e274bcf05048cc6a98c2">   90</a></span>&#160;        ulong  <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9db2982ee588e274bcf05048cc6a98c2">size</a>;        </div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a61b3e485b3726f594d6b8cab23380774">   91</a></span>&#160;        uint64 <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a61b3e485b3726f594d6b8cab23380774">cas_id</a>;      </div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a3b8489019e09eab9040c81d6d504600c">   93</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a3b8489019e09eab9040c81d6d504600c">StoreParams</a>() : flags(0), expire(0), size(0), cas_id(0) { }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    };</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34">   97</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34">GetStartResultValue</a> {</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34abc0b19f391c9f290662c86ae30ce7ee6">   98</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34abc0b19f391c9f290662c86ae30ce7ee6">gsrCONTINUE</a>,    </div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34a17c3831c11f7eb0afce341e7c939fd19">   99</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34a17c3831c11f7eb0afce341e7c939fd19">gsrSKIP</a>         </div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    };</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab3e30b3c928187212e3c4d7636c3fdfd">  103</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab3e30b3c928187212e3c4d7636c3fdfd">GeneralResultValue</a> {</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab3e30b3c928187212e3c4d7636c3fdfda0e5723a1832049aadfb84709edef55c9">  104</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab3e30b3c928187212e3c4d7636c3fdfda0e5723a1832049aadfb84709edef55c9">grOK</a>,           </div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab3e30b3c928187212e3c4d7636c3fdfda01c3e59806b4bc82c08b781fbc76c653">  105</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab3e30b3c928187212e3c4d7636c3fdfda01c3e59806b4bc82c08b781fbc76c653">grNOT_FOUND</a>     </div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    };</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a638dcc7626f2fe7151ad39df2daf3f8a">  108</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">ResponseResult&lt;Memcached::StoreResult&gt;</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a638dcc7626f2fe7151ad39df2daf3f8a">StoreResult</a>;     </div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a0a50bf6c66db7561db7657f392bdf4e5">  109</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">ResponseResult&lt;GetStartResultValue&gt;</a>    <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a0a50bf6c66db7561db7657f392bdf4e5">GetStartResult</a>;  </div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ac2d3f5dd81eb8750db43920c2680e956">  110</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">ResponseResult&lt;UInt64&gt;</a>                 <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ac2d3f5dd81eb8750db43920c2680e956">IncrementResult</a>; </div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#afd8e4a0350cb6e3218c8563159aa0c19">  111</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">ResponseResult&lt;GeneralResultValue&gt;</a>     <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#afd8e4a0350cb6e3218c8563159aa0c19">DeleteResult</a>;    </div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a38e3444b800cf9c71516ed846e42785c">  112</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">ResponseResult&lt;GeneralResultValue&gt;</a>     <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a38e3444b800cf9c71516ed846e42785c">TouchResult</a>;     </div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html">  123</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html">GetAdvParams</a> {</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#ac4ee5757a4cdfc806b79b8884747ccd4">  124</a></span>&#160;        <a class="code" href="structevo_1_1_integer_t.html">Int64</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#ac4ee5757a4cdfc806b79b8884747ccd4">expire</a>;   </div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#a29f85b402bc3c61c0e0ce7b92b6dabc9">  125</a></span>&#160;        <span class="keywordtype">bool</span>  <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#a29f85b402bc3c61c0e0ce7b92b6dabc9">cas</a>;      </div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    };</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a89405e990b8fbb9b671c3c32d0b91a13">  129</a></span>&#160;    <span class="keyword">typedef</span> DeferredContextT&lt;MemcachedServerHandlerBase&gt; <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a89405e990b8fbb9b671c3c32d0b91a13">DeferredContext</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html">  132</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html">DeferredReply</a> : DeferredContext::ReplyBase {</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#ad2d2a933d11660d0ceb0831a9fe03b23">  137</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#ad2d2a933d11660d0ceb0831a9fe03b23">DeferredReply</a>(DeferredContext&amp; context, ulong <span class="keywordtype">id</span>) : DeferredContext::ReplyBase(context, id) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a13763903bde10156899d3be20cca80fb">  141</a></span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a13763903bde10156899d3be20cca80fb">~DeferredReply</a>() {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">if</span> (!finished &amp;&amp; context.handler != NULL) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                context.handler-&gt;logger.log(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a5b40f003febbc3b535649d63f4b8a44f">LOG_LEVEL_ERROR</a>, <span class="stringliteral">&quot;MemcServer DeferredReply left unfinished&quot;</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                deferred_reply_error(<span class="stringliteral">&quot;Internal handler error: DeferredReply left unfinished&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a3ed0cd23fd8dfec5c1a4c50bc7c705d4">  151</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a3ed0cd23fd8dfec5c1a4c50bc7c705d4">deferred_reply_error</a>(<span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; msg) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> (context.handler != NULL) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <a class="code" href="classevo_1_1_string.html">String</a> buf;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                buf.<a class="code" href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">reserve</a>(15 + msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;SERVER_ERROR &quot;</span>, 13);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                buf &lt;&lt; msg;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                buf.<a class="code" href="classevo_1_1_string.html#a8d0ab0dce455fd7f47c86db4ee1aa528">add</a>(<span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                DeferredContext::Handler&amp; handler = *context.handler;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                handler.reply.deferred_send(<span class="keywordtype">id</span>, buf, <span class="keyword">true</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">if</span> (handler.logger.check(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(40 + msg.size()) &lt;&lt; <span class="stringliteral">&quot;MemcServer deferred reply &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot; error: &quot;</span> &lt;&lt; msg);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <span class="keywordflow">if</span> (handler.reply.deferred_end(context))</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <span class="stringliteral">&quot;MemcServer cleanup&quot;</span>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            finished = <span class="keyword">true</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a43e3afeb3f34e8585dd6d1ed47a96c3e">  171</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a43e3afeb3f34e8585dd6d1ed47a96c3e">deferred_reply_store</a>(<a class="code" href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9">Memcached::StoreResult</a> result) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">if</span> (context.handler != NULL) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <a class="code" href="classevo_1_1_string.html">String</a> buf;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <span class="keywordflow">switch</span> (result) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9a114e324ada1ab09c183311bdd565c61c">Memcached::srSTORED</a>:     buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;STORED\r\n&quot;</span>, 8);      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9aa8f77ef5462a55e0bbbebecbf0f6a562">Memcached::srNOT_STORED</a>: buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;NOT_STORED\r\n&quot;</span>, 12); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9a475217fa81e34589d51479fbb8926957">Memcached::srEXISTS</a>:     buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;EXISTS\r\n&quot;</span>, 8);      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9aa410d112ef6705e88e7efd9bb7950977">Memcached::srNOT_FOUND</a>:  buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;NOT_FOUND\r\n&quot;</span>, 11);  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <span class="keywordflow">default</span>: buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;SERVER_ERROR Backend error\r\n&quot;</span>, 28); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                DeferredContext::Handler&amp; handler = *context.handler;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <span class="keywordflow">if</span> (handler.logger.check(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(60 + buf.<a class="code" href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_store send deferred response &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="structevo_1_1_sub_string.html">SubString</a>(buf.<a class="code" href="classevo_1_1_string.html#a39a256207a84f316547e36c755373d03">data</a>(), buf.<a class="code" href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() - 2));</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                handler.reply.deferred_send(<span class="keywordtype">id</span>, buf, <span class="keyword">true</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="keywordflow">if</span> (handler.reply.deferred_end(context))</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <span class="stringliteral">&quot;MemcServer cleanup&quot;</span>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            finished = <span class="keyword">true</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#abae750784101f4b82ff8b5526b630a63">  194</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#abae750784101f4b82ff8b5526b630a63">deferred_reply_increment</a>(<a class="code" href="structevo_1_1_integer_t.html">UInt64</a> value) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">if</span> (context.handler != NULL) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <a class="code" href="classevo_1_1_string.html">String</a> buf;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">if</span> (value.<a class="code" href="classevo_1_1_nullable.html#a5fc3ccc049f9327dc84116f44bde5c26">null</a>()) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;NOT_FOUND\r\n&quot;</span>, 11);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    buf.<a class="code" href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">reserve</a>(<a class="code" href="structevo_1_1_integer_t.html#acbed63d32f79cbb24b5965724f986872">UInt64::MAXSTRLEN</a> + 2);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                    buf &lt;&lt; *value &lt;&lt; <a class="code" href="structevo_1_1_sub_string.html">SubString</a>(<span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                DeferredContext::Handler&amp; handler = *context.handler;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="keywordflow">if</span> (handler.logger.check(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(60 + buf.<a class="code" href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_increment send deferred response &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="structevo_1_1_sub_string.html">SubString</a>(buf.<a class="code" href="classevo_1_1_string.html#a39a256207a84f316547e36c755373d03">data</a>(), buf.<a class="code" href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() - 2));</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                handler.reply.deferred_send(<span class="keywordtype">id</span>, buf, <span class="keyword">true</span>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="keywordflow">if</span> (handler.reply.deferred_end(context))</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <span class="stringliteral">&quot;MemcServer cleanup&quot;</span>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            finished = <span class="keyword">true</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#af8214e73894f8c231cd4c729f2a57a43">  216</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#af8214e73894f8c231cd4c729f2a57a43">deferred_reply_delete</a>(<span class="keywordtype">bool</span> success) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">if</span> (context.handler != NULL) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <a class="code" href="classevo_1_1_string.html">String</a> buf;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <span class="keywordflow">if</span> (success)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;DELETED\r\n&quot;</span>, 9);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;NOT_FOUND\r\n&quot;</span>, 11);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                DeferredContext::Handler&amp; handler = *context.handler;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <span class="keywordflow">if</span> (handler.logger.check(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(60 + buf.<a class="code" href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_delete send deferred response &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="structevo_1_1_sub_string.html">SubString</a>(buf.<a class="code" href="classevo_1_1_string.html#a39a256207a84f316547e36c755373d03">data</a>(), buf.<a class="code" href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() - 2));</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                handler.reply.deferred_send(<span class="keywordtype">id</span>, buf, <span class="keyword">true</span>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">if</span> (handler.reply.deferred_end(context))</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <span class="stringliteral">&quot;MemcServer cleanup&quot;</span>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            finished = <span class="keyword">true</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a523085eb363721812681a211c8cc170a">  236</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a523085eb363721812681a211c8cc170a">deferred_reply_touch</a>(<span class="keywordtype">bool</span> success) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">if</span> (context.handler != NULL) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <a class="code" href="classevo_1_1_string.html">String</a> buf;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">if</span> (success)</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;TOUCHED\r\n&quot;</span>, 9);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    buf.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>(<span class="stringliteral">&quot;NOT_FOUND\r\n&quot;</span>, 11);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                DeferredContext::Handler&amp; handler = *context.handler;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">if</span> (handler.logger.check(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(60 + buf.<a class="code" href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_touch send deferred response &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="structevo_1_1_sub_string.html">SubString</a>(buf.<a class="code" href="classevo_1_1_string.html#a39a256207a84f316547e36c755373d03">data</a>(), buf.<a class="code" href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() - 2));</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                handler.reply.deferred_send(<span class="keywordtype">id</span>, buf, <span class="keyword">true</span>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">if</span> (handler.reply.deferred_end(context))</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <span class="stringliteral">&quot;MemcServer cleanup&quot;</span>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            finished = <span class="keyword">true</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a22094f25acf37132fa140e9a62d3feb5">  263</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a22094f25acf37132fa140e9a62d3feb5">deferred_reply_get</a>(<span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; value, uint32 <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>, uint64* <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a61b3e485b3726f594d6b8cab23380774">cas_id</a>=NULL) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">if</span> (context.handler != NULL) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                DeferredContext::Handler&amp; handler = *context.handler;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                handler.send_value_internal(<span class="keywordtype">id</span>, key, value, flags, <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a61b3e485b3726f594d6b8cab23380774">cas_id</a>, <a class="code" href="classevo_1_1_async_server_reply_t.html#a082f17616755877afdbe5d5cf206b245a790c916360e31708fbbf986324935a54">AsyncServerReply::wfDEFERRED</a>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">if</span> (handler.logger.check(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(68 + key.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_get sent deferred value &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot;: &#39;&quot;</span> &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;&#39; (size: &quot;</span> &lt;&lt; value.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() &lt;&lt; <span class="charliteral">&#39;)&#39;</span>);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#acfda637979c6a98e5438164590c2f3dd">  273</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#acfda637979c6a98e5438164590c2f3dd">deferred_reply_get_end</a>() {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">if</span> (context.handler != NULL) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <a class="code" href="classevo_1_1_string.html">String</a> buf(<span class="stringliteral">&quot;END\r\n&quot;</span>, 5);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                DeferredContext::Handler&amp; handler = *context.handler;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                handler.reply.deferred_send(<span class="keywordtype">id</span>, buf, <span class="keyword">true</span>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                <span class="keywordflow">if</span> (handler.logger.check(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(48) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_get end deferred response &quot;</span> &lt;&lt; <span class="keywordtype">id</span>);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <span class="keywordflow">if</span> (handler.reply.deferred_end(context))</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    handler.logger.log_direct(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <span class="stringliteral">&quot;MemcServer cleanup&quot;</span>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            finished = <span class="keyword">true</span>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    };</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#aced294458beb1e49b02dac1796768b1b">  287</a></span>&#160;    <a class="code" href="structevo_1_1_logger_ptr.html">LoggerPtr&lt;&gt;</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#aced294458beb1e49b02dac1796768b1b">logger</a>;     </div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a15f7b68aefaf608ee08592bc26ca9df0">  288</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a15f7b68aefaf608ee08592bc26ca9df0">noreply</a>;           </div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a05c623c531024aa3f78c58cf777be0fd">  289</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a05c623c531024aa3f78c58cf777be0fd">enable_gat</a>;        </div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a90e4c65236c3585988e5ea7b3b6ad7ee">  290</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a90e4c65236c3585988e5ea7b3b6ad7ee">enable_cas</a>;        </div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#aefaa5bc967e473b265d6d39c8244cb05">  293</a></span>&#160;    <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#aefaa5bc967e473b265d6d39c8244cb05">MemcachedServerHandlerBase</a>() : noreply(false), enable_gat(false), enable_cas(false) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// Config</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a58461a31cb566d1c63e68ecdf3f034a5">  298</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a58461a31cb566d1c63e68ecdf3f034a5">get_max_initial_read</a>() {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span> MAX_INITIAL_READ_VALUE = 524288;  <span class="comment">// 512 KB</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">return</span> MAX_INITIAL_READ_VALUE;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// Events</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#af19ace4d6ae0de3c0eaac5e57846e327">  344</a></span>&#160;    <span class="keyword">virtual</span> StoreResult <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#af19ace4d6ae0de3c0eaac5e57846e327">on_store</a>(DeferredContext&amp; context, <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html">StoreParams</a>&amp; params, <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; value, <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153">Command</a> command, uint64 <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a61b3e485b3726f594d6b8cab23380774">cas_id</a>) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(context);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(params);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(value);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(command);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(cas_id);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a9b295e38813ff9a1fcd36f0a2c692872">send_error</a>(<span class="stringliteral">&quot;Not implemented&quot;</span>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7a07b3c775840f3f3b3faeb4e45b3b1eed">rtHANDLED</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a8e883f4ff67bb19a907a34fadfbc915b">  374</a></span>&#160;    <span class="keyword">virtual</span> IncrementResult <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a8e883f4ff67bb19a907a34fadfbc915b">on_increment</a>(DeferredContext&amp; context, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>, uint64 count, <span class="keywordtype">bool</span> decrement) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(context);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(key);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(count);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(decrement);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a9b295e38813ff9a1fcd36f0a2c692872">send_error</a>(<span class="stringliteral">&quot;Not implemented&quot;</span>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7a07b3c775840f3f3b3faeb4e45b3b1eed">rtHANDLED</a>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab5eaca05bf79f8a67aedd2df6e9d86d8">  399</a></span>&#160;    <span class="keyword">virtual</span> DeleteResult <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab5eaca05bf79f8a67aedd2df6e9d86d8">on_delete</a>(DeferredContext&amp; context, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(context);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(key);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a9b295e38813ff9a1fcd36f0a2c692872">send_error</a>(<span class="stringliteral">&quot;Not implemented&quot;</span>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7a07b3c775840f3f3b3faeb4e45b3b1eed">rtHANDLED</a>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a41e995d85f0328f5fde237088dfbbdd0">  423</a></span>&#160;    <span class="keyword">virtual</span> TouchResult <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a41e995d85f0328f5fde237088dfbbdd0">on_touch</a>(DeferredContext&amp; context, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>, int64 <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a857deef5062d7df44f687fb2645e48d3">expire</a>) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(context);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(key);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(expire);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a9b295e38813ff9a1fcd36f0a2c692872">send_error</a>(<span class="stringliteral">&quot;Not implemented&quot;</span>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7a07b3c775840f3f3b3faeb4e45b3b1eed">rtHANDLED</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a1f129ba20df6caed8d4226aec28a68d7">  459</a></span>&#160;    <span class="keyword">virtual</span> GetStartResult <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a1f129ba20df6caed8d4226aec28a68d7">on_get_start</a>(DeferredContext&amp; context, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; keys, <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html">GetAdvParams</a>* adv_params) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(context);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(keys);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(adv_params);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34abc0b19f391c9f290662c86ae30ce7ee6">gsrCONTINUE</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ae38a6a10c57e8218af9a7c56e33a257f">  491</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7">ResponseType</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ae38a6a10c57e8218af9a7c56e33a257f">on_get</a>(DeferredContext&amp; context, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>, <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html">GetAdvParams</a>* adv_params) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(context);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(key);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(adv_params);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7af27f56f0e106de313bf2b94fe19d90e4">rtNORMAL</a>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a37a798d7078683a4f98ae974d12f5052">  514</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7">ResponseType</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a37a798d7078683a4f98ae974d12f5052">on_get_end</a>(DeferredContext&amp; context) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(context);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7af27f56f0e106de313bf2b94fe19d90e4">rtNORMAL</a>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a991696494306a31ac1a481b44956703f">  522</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a991696494306a31ac1a481b44956703f">on_flush_all</a>(ulong delay_sec) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(delay_sec);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a53834027b7f2b51a990c63206348a403">  531</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a53834027b7f2b51a990c63206348a403">on_stats</a>(<a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; params) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(params);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a0bc11b53296316336262aaf3444c7932">  540</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a0bc11b53296316336262aaf3444c7932">on_version</a>(<a class="code" href="classevo_1_1_string.html">String</a>&amp; version) {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        version = <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ac50a8441b41351aedaad35824160a0b1">  552</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#ac50a8441b41351aedaad35824160a0b1">on_command</a>(<span class="keywordtype">bool</span>&amp; handled, <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; command_str, <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; params) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(handled);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(command_str);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(params);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2a5c021413f5b2c014b8b82711caff58">  562</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2a5c021413f5b2c014b8b82711caff58">on_error</a>(<a class="code" href="group___evo_i_o.html#gaa9de21c87ab89aacb9da9dba6b240114">AsyncError</a> err) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(err);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// Helpers</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a176dd8cec335faed7f880925d6b3b6ec">  571</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a176dd8cec335faed7f880925d6b3b6ec">send_reply</a>(<span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; msg) {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">if</span> (!noreply) {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <a class="code" href="structevo_1_1_async_server_reply_t_1_1_writer.html">AsyncServerReply::Writer</a> writer(<a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>, <span class="keywordtype">id</span>, msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() + 2);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            writer.add(msg.<a class="code" href="structevo_1_1_sub_string.html#a39a256207a84f316547e36c755373d03">data</a>(), msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            writer.add(<span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(32 + msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer -- send_reply: &quot;</span> &lt;&lt; msg);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2f5f55686baf514709b7ea1d246e3c7c">  584</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2f5f55686baf514709b7ea1d246e3c7c">send_client_error</a>(<span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; msg) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">if</span> (!noreply) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <a class="code" href="structevo_1_1_async_server_reply_t_1_1_writer.html">AsyncServerReply::Writer</a> writer(<a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>, <span class="keywordtype">id</span>, 15 + msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            writer.add(<span class="stringliteral">&quot;CLIENT_ERROR &quot;</span>, 13);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            writer.add(msg.<a class="code" href="structevo_1_1_sub_string.html#a39a256207a84f316547e36c755373d03">data</a>(), msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            writer.add(<span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(40 + msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer -- send_error: CLIENT_ERROR &quot;</span> &lt;&lt; msg);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a9b295e38813ff9a1fcd36f0a2c692872">  598</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a9b295e38813ff9a1fcd36f0a2c692872">send_error</a>(<span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; msg) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">if</span> (!noreply) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <a class="code" href="structevo_1_1_async_server_reply_t_1_1_writer.html">AsyncServerReply::Writer</a> writer(<a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>, <span class="keywordtype">id</span>, 15 + msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            writer.add(<span class="stringliteral">&quot;SERVER_ERROR &quot;</span>, 13);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            writer.add(msg.<a class="code" href="structevo_1_1_sub_string.html#a39a256207a84f316547e36c755373d03">data</a>(), msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            writer.add(<span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(40 + msg.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer -- send_error: SERVER_ERROR &quot;</span> &lt;&lt; msg);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a3db82b705358de2ddbc0c3334c34f022">  616</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a3db82b705358de2ddbc0c3334c34f022">send_stat</a>(<span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; name, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; value) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="structevo_1_1_async_server_reply_t_1_1_writer.html">AsyncServerReply::Writer</a> writer(<a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>, <span class="keywordtype">id</span>, 8 + name.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() + value.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        writer.add(<span class="stringliteral">&quot;STAT &quot;</span>, 5);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        writer.add(name.<a class="code" href="structevo_1_1_sub_string.html#a39a256207a84f316547e36c755373d03">data</a>(), name.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        writer.add(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        writer.add(value.<a class="code" href="structevo_1_1_sub_string.html#a39a256207a84f316547e36c755373d03">data</a>(), value.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        writer.add(<span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server_handler_base.html#aca0171ddd9b0461b59eb7d14ea6e54bb">  633</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#aca0171ddd9b0461b59eb7d14ea6e54bb">send_value</a>(<span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; value, uint32 <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>=0, uint64* <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a61b3e485b3726f594d6b8cab23380774">cas_id</a>=NULL) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        send_value_internal(<span class="keywordtype">id</span>, key, value, <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>, <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a61b3e485b3726f594d6b8cab23380774">cas_id</a>, <a class="code" href="classevo_1_1_async_server_reply_t.html#a082f17616755877afdbe5d5cf206b245a136c252719e7ee607cc66b07d1bb0c29">AsyncServerReply::wfNONE</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>))</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, <a class="code" href="classevo_1_1_string.html">String</a>().reserve(42 + key.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer -- send_value &#39;&quot;</span> &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;&#39; (size: &quot;</span> &lt;&lt; value.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() &lt;&lt; <span class="charliteral">&#39;)&#39;</span>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordtype">void</span> send_value_internal(ulong req_id, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>, <span class="keyword">const</span> <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; value, uint32 <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a81a27ce50e78368b0d0de1e8767fd32d">flags</a>, uint64* <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a61b3e485b3726f594d6b8cab23380774">cas_id</a>, <a class="code" href="classevo_1_1_async_server_reply_t.html#a082f17616755877afdbe5d5cf206b245">AsyncServerReply::WriterFlags</a> writer_flags) {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <a class="code" href="structevo_1_1_string_int.html">StringInt&lt;uint32&gt;</a> flags_str(flags);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <a class="code" href="structevo_1_1_string_int.html">StringInt&lt;StrSizeT&gt;</a> value_size_str(value.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="structevo_1_1_string_int.html">StringInt&lt;uint64&gt;</a> cas_id_str;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <a class="code" href="namespaceevo.html#acc6c0a7a5a715e4a53f0833762b25c7f">SizeT</a> write_size = 12 + key.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() + flags_str.<a class="code" href="structevo_1_1_string_int.html#acce0ab2cacc475b2434f24c65c91685a">size</a>() + value_size_str.size() + value.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>();</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">if</span> (cas_id != NULL) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            cas_id_str.<a class="code" href="structevo_1_1_string_int.html#a219a41ab8fb6246ea2bc13678191cc79">set</a>(*cas_id);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            write_size += 1 + cas_id_str.<a class="code" href="structevo_1_1_string_int.html#acce0ab2cacc475b2434f24c65c91685a">size</a>();</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="structevo_1_1_async_server_reply_t_1_1_writer.html">AsyncServerReply::Writer</a> writer(<a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>, req_id, write_size, writer_flags);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        writer.add(<span class="stringliteral">&quot;VALUE &quot;</span>, 6);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        writer.add(key.<a class="code" href="structevo_1_1_sub_string.html#a39a256207a84f316547e36c755373d03">data</a>(), key.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        writer.add(<span class="charliteral">&#39; &#39;</span>).add(flags_str.<a class="code" href="structevo_1_1_string_int.html#a9546b93cd8f1ef10d06926b89df1a8fe">data</a>(), flags_str.<a class="code" href="structevo_1_1_string_int.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        writer.add(<span class="charliteral">&#39; &#39;</span>).add(value_size_str.data(), value_size_str.size());</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">if</span> (cas_id != NULL)</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            writer.add(<span class="charliteral">&#39; &#39;</span>).add(cas_id_str.<a class="code" href="structevo_1_1_string_int.html#a9546b93cd8f1ef10d06926b89df1a8fe">data</a>(), cas_id_str.<a class="code" href="structevo_1_1_string_int.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        writer.add(<span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        writer.add(value.<a class="code" href="structevo_1_1_sub_string.html#a39a256207a84f316547e36c755373d03">data</a>(), value.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        writer.add(<span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;};</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div><div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html">  756</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structevo_1_1async_1_1_memcached_server.html">MemcachedServer</a> {</div><div class="line"><a name="l00757"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#a8c64e55098c70e0580a66e33981a2ca9">  757</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> MIN_INITIAL_READ = 0;</div><div class="line"><a name="l00758"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#a9ca41194b536bab66f9857ec376f152c">  758</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> NEWLINE_LEN = 2;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#ac212846f396e299757e6c81f70984234">  760</a></span>&#160;    <span class="keyword">typedef</span> T <a class="code" href="structevo_1_1async_1_1_memcached_server.html#ac212846f396e299757e6c81f70984234">Handler</a>;                          </div><div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#a172ce36b1f8f9f54c02428fdb3d337d3">  761</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="structevo_1_1async_1_1_memcached_server.html">MemcachedServer&lt;Handler&gt;</a> <a class="code" href="structevo_1_1async_1_1_memcached_server.html#a172ce36b1f8f9f54c02428fdb3d337d3">This</a>;      </div><div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#a47d40928479da0383058cfc7608f5d38">  762</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classevo_1_1_async_server.html">AsyncServer&lt;This&gt;</a> <a class="code" href="structevo_1_1async_1_1_memcached_server.html#a47d40928479da0383058cfc7608f5d38">Server</a>;           </div><div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#ac4fcbcb46607b333ad84dda2ee253408">  763</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> Handler::DeferredContext <a class="code" href="structevo_1_1async_1_1_memcached_server.html#ac4fcbcb46607b333ad84dda2ee253408">DeferredContext</a>;  </div><div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#aaed3e79ca9fcc4640c6923c9b12a0ee8">  764</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> Handler::Global <a class="code" href="structevo_1_1async_1_1_memcached_server.html#aaed3e79ca9fcc4640c6923c9b12a0ee8">Global</a>;    </div><div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#afef68d06e8a2bc9093529916b13231a1">  765</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> Handler::Shared <a class="code" href="structevo_1_1async_1_1_memcached_server.html#afef68d06e8a2bc9093529916b13231a1">Shared</a>;    </div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#ab3ab94c53a26a38ac0bf19c90c16fc4e">  767</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html">MemcachedServerHandlerBase</a> <a class="code" href="structevo_1_1async_1_1_memcached_server.html#ab3ab94c53a26a38ac0bf19c90c16fc4e">HandlerBase</a>; </div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#aced294458beb1e49b02dac1796768b1b">  769</a></span>&#160;    <a class="code" href="structevo_1_1_logger_ptr.html">LoggerPtr&lt;&gt;</a> <a class="code" href="structevo_1_1async_1_1_memcached_server.html#aced294458beb1e49b02dac1796768b1b">logger</a>;                     </div><div class="line"><a name="l00770"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#a57d71e19104af6fa1574d8267a940023">  770</a></span>&#160;    Handler <a class="code" href="structevo_1_1async_1_1_memcached_server.html#a57d71e19104af6fa1574d8267a940023">handler</a>;                        </div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#a6326f118bb726e817e9dbeaf5fad4a33">  777</a></span>&#160;    <a class="code" href="structevo_1_1async_1_1_memcached_server.html#a6326f118bb726e817e9dbeaf5fad4a33">MemcachedServer</a>(Global&amp; global, Shared&amp; shared, <a class="code" href="classevo_1_1_logger_base.html">LoggerBase</a>* logger) : logger(logger), handler(global, shared), command(HandlerBase::<a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a21bc59db2463270bd112a4609a91ba87">cUNKNOWN</a>) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        handler.logger.set(logger);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="comment">// Read events</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// Helper for common deferred count checks -- undef&#39;d below</span></div><div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="memcached__server_8h.html#a01c627f6702a100e711b3c4ef8aaaeb7">  784</a></span>&#160;<span class="preprocessor">    #define EVO_HELPER_HANDLER_DEFCHECK(EVENT_NAME, EVENT_MSG_SUFFIX) \</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="preprocessor">        if (handler.noreply) { \</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="preprocessor">            logger.log(LOG_LEVEL_ERROR, &quot;MemcServer &quot; EVENT_NAME &quot; error: Handler returned rtDEFERRED on &#39;noreply&#39; request&quot;); \</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="preprocessor">            return false; </span><span class="comment">/* invalid result, close connection */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">        if (++expected_deferred_count != context_ref.count()) { \</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="preprocessor">            if (expected_deferred_count &gt; context_ref.count()) \</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">                logger.log(LOG_LEVEL_ERROR, &quot;MemcServer &quot; EVENT_NAME &quot; error: Handler returned rtDEFERRED without creating a DeferredReply&quot;); \</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="preprocessor">            else \</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="preprocessor">                logger.log(LOG_LEVEL_ERROR, &quot;MemcServer &quot; EVENT_NAME &quot; error: Handler created more than one DeferredReply, only 1 allowed per handler&quot;); \</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="preprocessor">            return false; </span><span class="comment">/* invalid result, close connection */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="preprocessor">        logger.log(LOG_LEVEL_DEBUG_LOW, &quot;MemcServer -- &quot; EVENT_NAME &quot; response deferred&quot; EVENT_MSG_SUFFIX);</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">// Helper for common result.type cases -- undef&#39;d below</span></div><div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="memcached__server_8h.html#a9c8867828a25d70580d52a1e3bab0624">  799</a></span>&#160;<span class="preprocessor">    #define EVO_HELPER_HANDLER_CASES(EVENT_NAME) \</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="preprocessor">        case HandlerBase::rtDEFERRED: \</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="preprocessor">            EVO_HELPER_HANDLER_DEFCHECK(EVENT_NAME, &quot;&quot;) \</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="preprocessor">            break; \</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="preprocessor">        case HandlerBase::rtHANDLED: break; \</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="preprocessor">        default: return false; </span><span class="comment">/* rtCLOSE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// Helper for common handler end deferred-check -- undef&#39;d below</span></div><div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="memcached__server_8h.html#a18bd838eb44e057b936a3b4fd592f3ee">  807</a></span>&#160;<span class="preprocessor">    #define EVO_HELPER_HANDLER_END_DEFCHECK(EVENT_NAME) \</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="preprocessor">        if (expected_deferred_count != context_ref.count()) { \</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="preprocessor">            logger.log(LOG_LEVEL_ERROR, &quot;MemcServer &quot; EVENT_NAME &quot; error: Handler created DeferredReply without returning rtDEFERRED&quot;); \</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="preprocessor">            return false; </span><span class="comment">/* invalid result, close connection */</span><span class="preprocessor"> \</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="preprocessor">        }</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#a376c49c030a2c9940012caa7f72ce071">  813</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structevo_1_1async_1_1_memcached_server.html#a376c49c030a2c9940012caa7f72ce071">on_read_fixed</a>(<a class="code" href="namespaceevo.html#acc6c0a7a5a715e4a53f0833762b25c7f">SizeT</a>&amp; next_size, <a class="code" href="structevo_1_1_sub_string.html">SubString</a>&amp; data, <span class="keywordtype">void</span>* context) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="comment">// Read storage value</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a>(next_size);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        assert( context != NULL );</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <a class="code" href="classevo_1_1_string.html">String</a> logstr;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>)) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            logstr.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>().<a class="code" href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">reserve</a>(96 + storage_params.key.size())</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;MemcServer on_store &quot;</span> &lt;&lt; HandlerBase::CommandEnum::get_string(command)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; &#39;&quot;</span> &lt;&lt; storage_params.key &lt;&lt; <span class="stringliteral">&quot;&#39; fl:&quot;</span> &lt;&lt; storage_params.flags &lt;&lt; <span class="stringliteral">&quot; exp:&quot;</span> &lt;&lt; storage_params.expire;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordflow">if</span> (command == HandlerBase::cCAS)</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                logstr &lt;&lt; <span class="stringliteral">&quot; id:&quot;</span> &lt;&lt; storage_params.cas_id;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            logstr &lt;&lt; <span class="stringliteral">&quot; (size: &quot;</span> &lt;&lt; storage_params.<a class="code" href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">size</a> &lt;&lt; <span class="charliteral">&#39;)&#39;</span>;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>, logstr);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        data.<a class="code" href="structevo_1_1_sub_string.html#ac66d7d86f36fe1253a94eb820204f74a">stripr</a>(<span class="stringliteral">&quot;\r\n&quot;</span>, NEWLINE_LEN, 1);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        DeferredContext&amp; context_ref = *(DeferredContext*)context;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        ulong expected_deferred_count = context_ref.count();</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        </div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">HandlerBase::StoreResult</a> result = handler.on_store(context_ref, storage_params, data, command, storage_params.cas_id);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keywordflow">switch</span> (result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#a0c4745bf49cf057bb5a955df37c5a4dc">type</a>) {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <span class="keywordflow">case</span> HandlerBase::rtNORMAL:</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                <span class="keywordflow">switch</span> (result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#aa8c570067a84909ac175d26fc72bb684">result</a>) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9a114e324ada1ab09c183311bdd565c61c">Memcached::srSTORED</a>:     <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;STORED\r\n&quot;</span>, 8);      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9aa8f77ef5462a55e0bbbebecbf0f6a562">Memcached::srNOT_STORED</a>: <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;NOT_STORED\r\n&quot;</span>, 12); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9a475217fa81e34589d51479fbb8926957">Memcached::srEXISTS</a>:     <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;EXISTS\r\n&quot;</span>, 8);      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9aa410d112ef6705e88e7efd9bb7950977">Memcached::srNOT_FOUND</a>:  <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;NOT_FOUND\r\n&quot;</span>, 11);  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                        <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a5b40f003febbc3b535649d63f4b8a44f">LOG_LEVEL_ERROR</a>))</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                            logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a5b40f003febbc3b535649d63f4b8a44f">LOG_LEVEL_ERROR</a>, logstr.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>().<a class="code" href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">reserve</a>(56) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_store error: Invalid handler result: &quot;</span> &lt;&lt; (int)result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#aa8c570067a84909ac175d26fc72bb684">result</a>);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// invalid result, close connection</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                }</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <a class="code" href="memcached__server_8h.html#a9c8867828a25d70580d52a1e3bab0624">EVO_HELPER_HANDLER_CASES</a>(<span class="stringliteral">&quot;on_store&quot;</span>);</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        }</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <a class="code" href="memcached__server_8h.html#a18bd838eb44e057b936a3b4fd592f3ee">EVO_HELPER_HANDLER_END_DEFCHECK</a>(<span class="stringliteral">&quot;on_store&quot;</span>);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div><div class="line"><a name="l00852"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#ad6a3ea3e4c1518f70953cf7199c00758">  852</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structevo_1_1async_1_1_memcached_server.html#ad6a3ea3e4c1518f70953cf7199c00758">on_read</a>(<a class="code" href="namespaceevo.html#acc6c0a7a5a715e4a53f0833762b25c7f">SizeT</a>&amp; fixed_size, <a class="code" href="classevo_1_1_async_buffers.html">AsyncBuffers</a>&amp; <a class="code" href="structevo_1_1_async_server_handler.html#aff54ea10976eda7c4ddc88b5bd329492">buffers</a>, <span class="keywordtype">void</span>* context) {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="comment">// New command</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        assert( context != NULL );</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        DeferredContext&amp; context_ref = *(DeferredContext*)context;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        ulong expected_deferred_count = context_ref.count();</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> DELIM = <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <a class="code" href="classevo_1_1_string.html">String</a> logstr;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="structevo_1_1_sub_string.html">SubString</a> line;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">while</span> (buffers.<a class="code" href="classevo_1_1_async_buffers.html#ad05bafcf4897ca844f064cadcb30a756">read_line</a>(line)) {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <a class="code" href="structevo_1_1_sub_string.html">SubString</a> command_str, params_str;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            line.<a class="code" href="structevo_1_1_sub_string.html#ad6cbb299e6ee2545df83c81dd1a92407">split</a>(<span class="charliteral">&#39; &#39;</span>, command_str, params_str);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            handler.set_id();</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            handler.noreply = <span class="keyword">false</span>;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            command = Handler::CommandEnum::get_enum(command_str);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="keywordflow">switch</span> (command) {</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                <span class="comment">// Storage</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cCAS:</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                    <span class="keywordflow">if</span> (!handler.enable_cas) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                        handler.send_error(<span class="stringliteral">&quot;Not implemented&quot;</span>);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    } <span class="comment">// fallthrough</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cADD:      <span class="comment">// fallthrough</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cAPPEND:   <span class="comment">// fallthrough</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cPREPEND:  <span class="comment">// fallthrough</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cREPLACE:  <span class="comment">// fallthrough</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cSET: {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    storage_params.key.set();</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                    storage_params.flags  = 0;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    storage_params.expire = 0;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                    storage_params.size   = 0;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                    <a class="code" href="structevo_1_1_str_tok_variant.html">StrTokWord</a> tok(params_str);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  storage_params.key    = tok.value();</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  storage_params.flags  = tok.value().getnum&lt;uint32&gt;(<a class="code" href="group___evo_containers.html#gga04e52ddd0c4be8a2754bbcfdf5bffe35a197444c2609d2c73b11df326e320d97d">fDEC</a>);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  storage_params.expire = tok.value().getnum&lt;longl&gt;(<a class="code" href="group___evo_containers.html#gga04e52ddd0c4be8a2754bbcfdf5bffe35a197444c2609d2c73b11df326e320d97d">fDEC</a>);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  storage_params.size   = tok.value().getnum&lt;ulong&gt;(<a class="code" href="group___evo_containers.html#gga04e52ddd0c4be8a2754bbcfdf5bffe35a197444c2609d2c73b11df326e320d97d">fDEC</a>);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                        <span class="keywordflow">if</span> (command == HandlerBase::cCAS) {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                            <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM); storage_params.cas_id = tok.value().getnum&lt;uint64&gt;();</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                        }</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  handler.noreply       = (tok.value() == <span class="stringliteral">&quot;noreply&quot;</span>);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                    <span class="keywordflow">if</span> (storage_params.key.empty()) {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                        handler.send_client_error(<span class="stringliteral">&quot;Missing parameter, expected key&quot;</span>);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                    }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                    buffers.<a class="code" href="classevo_1_1_async_buffers.html#a583b28521d1bfb1de8bda9ec0bd60e95">read_flush</a>();</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    <span class="keywordflow">if</span> (handler.noreply)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                        handler.reply.nosend(handler.id);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                    <span class="keywordflow">if</span> (!buffers.<a class="code" href="classevo_1_1_async_buffers.html#aa74a87caea63f3372201fb343b9924d2">read_fixed_helper</a>(*<span class="keyword">this</span>, fixed_size, storage_params.size + NEWLINE_LEN, 0, context))</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                    <span class="keywordflow">if</span> (fixed_size &gt; 0)</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    <span class="keywordflow">continue</span>; <span class="comment">// next command (while loop at top)</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                <span class="comment">// Increment</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cINCREMENT:</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cDECREMENT: {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                    <a class="code" href="structevo_1_1_sub_string.html">SubString</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    uint64 count = 0;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                    <a class="code" href="structevo_1_1_str_tok_variant.html">StrTokWord</a> tok(params_str);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  key             = tok.value();</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  count           = tok.value().getnum&lt;uint64&gt;();</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  handler.noreply = (tok.value() == <span class="stringliteral">&quot;noreply&quot;</span>);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                    }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                    <span class="keywordflow">if</span> (key.<a class="code" href="structevo_1_1_sub_string.html#a644718bb2fb240de962dc3c9a1fdf0dc">empty</a>()) {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                        handler.send_client_error(<span class="stringliteral">&quot;Missing parameter, expected key&quot;</span>);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                    }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                    <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>))</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                        logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>, logstr.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>().<a class="code" href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">reserve</a>(42 + key.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_increment &#39;&quot;</span> &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;&#39; &quot;</span> &lt;&lt; (command == HandlerBase::cDECREMENT ? <span class="charliteral">&#39;-&#39;</span> : <span class="charliteral">&#39;+&#39;</span>) &lt;&lt; count);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    <span class="keywordflow">if</span> (handler.noreply)</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                        handler.reply.nosend(handler.id);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                    <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">HandlerBase::IncrementResult</a> result = handler.on_increment(context_ref, key, count, (command == HandlerBase::cDECREMENT));</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                    <span class="keywordflow">switch</span> (result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#a0c4745bf49cf057bb5a955df37c5a4dc">type</a>) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                        <span class="keywordflow">case</span> HandlerBase::rtNORMAL:</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                            <span class="keywordflow">if</span> (!result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#aa8c570067a84909ac175d26fc72bb684">result</a>.null()) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                                <a class="code" href="structevo_1_1_string_int.html">StringInt&lt;uint64,NEWLINE_LEN&gt;</a> result_str(*result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#aa8c570067a84909ac175d26fc72bb684">result</a>, <a class="code" href="group___evo_containers.html#gga04e52ddd0c4be8a2754bbcfdf5bffe35a197444c2609d2c73b11df326e320d97d">fDEC</a>, <span class="keyword">false</span>, NEWLINE_LEN);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                result_str.<a class="code" href="structevo_1_1_string_int.html#a5c38f19f514fbc1a8d9f4b06f1166ded">add</a>(<span class="stringliteral">&quot;\r\n&quot;</span>, NEWLINE_LEN);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                                <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(result_str.<a class="code" href="structevo_1_1_string_int.html#a9546b93cd8f1ef10d06926b89df1a8fe">data</a>(), result_str.<a class="code" href="structevo_1_1_string_int.html#acce0ab2cacc475b2434f24c65c91685a">size</a>());</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                            } <span class="keywordflow">else</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                                <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;NOT_FOUND\r\n&quot;</span>, 11);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                        <a class="code" href="memcached__server_8h.html#a9c8867828a25d70580d52a1e3bab0624">EVO_HELPER_HANDLER_CASES</a>(<span class="stringliteral">&quot;on_increment&quot;</span>);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                    }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                    <a class="code" href="memcached__server_8h.html#a18bd838eb44e057b936a3b4fd592f3ee">EVO_HELPER_HANDLER_END_DEFCHECK</a>(<span class="stringliteral">&quot;on_increment&quot;</span>);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                <span class="comment">// Delete</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cDELETE: {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                    <a class="code" href="structevo_1_1_sub_string.html">SubString</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                    <a class="code" href="structevo_1_1_str_tok_variant.html">StrTokWord</a> tok(params_str);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  key             = tok.value();</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  handler.noreply = (tok.value() == <span class="stringliteral">&quot;noreply&quot;</span>);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                    }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                    <span class="keywordflow">if</span> (key.<a class="code" href="structevo_1_1_sub_string.html#a644718bb2fb240de962dc3c9a1fdf0dc">empty</a>()) {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                        handler.send_client_error(<span class="stringliteral">&quot;Missing parameter, expected key(s)&quot;</span>);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                    }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                    <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>))</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                        logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>, logstr.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>().<a class="code" href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">reserve</a>(24 + key.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_delete &#39;&quot;</span> &lt;&lt; key &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                    <span class="keywordflow">if</span> (handler.noreply)</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                        handler.reply.nosend(handler.id);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">HandlerBase::DeleteResult</a> result = handler.on_delete(context_ref, key);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                    <span class="keywordflow">switch</span> (result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#a0c4745bf49cf057bb5a955df37c5a4dc">type</a>) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                        <span class="keywordflow">case</span> HandlerBase::rtNORMAL:</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                            <span class="keywordflow">if</span> (result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#aa8c570067a84909ac175d26fc72bb684">result</a> == HandlerBase::grOK)</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                                <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;DELETED\r\n&quot;</span>, 9);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                            <span class="keywordflow">else</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                                <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;NOT_FOUND\r\n&quot;</span>, 11);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                        <a class="code" href="memcached__server_8h.html#a9c8867828a25d70580d52a1e3bab0624">EVO_HELPER_HANDLER_CASES</a>(<span class="stringliteral">&quot;on_delete&quot;</span>);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                    }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                    <a class="code" href="memcached__server_8h.html#a18bd838eb44e057b936a3b4fd592f3ee">EVO_HELPER_HANDLER_END_DEFCHECK</a>(<span class="stringliteral">&quot;on_delete&quot;</span>);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                }</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                <span class="comment">// Touch</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cTOUCH: {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                    <a class="code" href="structevo_1_1_sub_string.html">SubString</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">key</a>;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                    int64 <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a857deef5062d7df44f687fb2645e48d3">expire</a> = 0;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                    <a class="code" href="structevo_1_1_str_tok_variant.html">StrTokWord</a> tok(params_str);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  key             = tok.value();</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  expire          = tok.value().getnum&lt;int64&gt;(<a class="code" href="group___evo_containers.html#gga04e52ddd0c4be8a2754bbcfdf5bffe35a197444c2609d2c73b11df326e320d97d">fDEC</a>);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                        <a class="code" href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a>(tok, DELIM);  handler.noreply = (tok.value() == <span class="stringliteral">&quot;noreply&quot;</span>);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                    }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                    <span class="keywordflow">if</span> (key.<a class="code" href="structevo_1_1_sub_string.html#a644718bb2fb240de962dc3c9a1fdf0dc">empty</a>()) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                        handler.send_client_error(<span class="stringliteral">&quot;Missing parameter, expected key(s)&quot;</span>);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                    }</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                    <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>))</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                        logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>, logstr.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>().<a class="code" href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">reserve</a>(24 + key.<a class="code" href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">size</a>()) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_touch &#39;&quot;</span> &lt;&lt; key &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                    <span class="keywordflow">if</span> (handler.noreply)</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                        handler.reply.nosend(handler.id);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                    <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">HandlerBase::TouchResult</a> result = handler.on_touch(context_ref, key, expire);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                    <span class="keywordflow">switch</span> (result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#a0c4745bf49cf057bb5a955df37c5a4dc">type</a>) {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                        <span class="keywordflow">case</span> HandlerBase::rtNORMAL:</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                            <span class="keywordflow">if</span> (result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#aa8c570067a84909ac175d26fc72bb684">result</a> == HandlerBase::grOK)</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                                <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;TOUCHED\r\n&quot;</span>, 9);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                            <span class="keywordflow">else</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;NOT_FOUND\r\n&quot;</span>, 11);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                        <a class="code" href="memcached__server_8h.html#a9c8867828a25d70580d52a1e3bab0624">EVO_HELPER_HANDLER_CASES</a>(<span class="stringliteral">&quot;on_touch&quot;</span>);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                    }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                    <a class="code" href="memcached__server_8h.html#a18bd838eb44e057b936a3b4fd592f3ee">EVO_HELPER_HANDLER_END_DEFCHECK</a>(<span class="stringliteral">&quot;on_touch&quot;</span>);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                }</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                <span class="comment">// Get</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cGAT:</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cGATS:</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cGETS:</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cGET: {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                    <span class="keywordtype">bool</span> handled  = <span class="keyword">false</span>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                    <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html">HandlerBase::GetAdvParams</a> adv_params;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                    <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html">HandlerBase::GetAdvParams</a>* adv_params_ptr = NULL;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                    <span class="keywordflow">switch</span> (command) {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                        <span class="keywordflow">case</span> HandlerBase::cGETS:</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                            <span class="comment">// CAS variant</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                            <span class="keywordflow">if</span> (!handler.enable_cas) {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                                handler.send_error(<span class="stringliteral">&quot;Not implemented&quot;</span>);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                                handled = <span class="keyword">true</span>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                            }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                            adv_params.<a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#a29f85b402bc3c61c0e0ce7b92b6dabc9">cas</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                            adv_params_ptr = &amp;adv_params;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                        <span class="keywordflow">case</span> HandlerBase::cGATS:</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                            <span class="comment">// GAT and CAS variant</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                            <span class="keywordflow">if</span> (!handler.enable_cas) {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                                handler.send_error(<span class="stringliteral">&quot;Not implemented&quot;</span>);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                                handled = <span class="keyword">true</span>;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                            }</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                            adv_params.<a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#a29f85b402bc3c61c0e0ce7b92b6dabc9">cas</a> = <span class="keyword">true</span>; <span class="comment">// fallthrough</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                        <span class="keywordflow">case</span> HandlerBase::cGAT: {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                            <span class="comment">// GAT variant</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                            <span class="keywordflow">if</span> (!handler.enable_gat) {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                                handler.send_error(<span class="stringliteral">&quot;Not implemented&quot;</span>);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                                handled = <span class="keyword">true</span>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                            }</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                            <a class="code" href="structevo_1_1_sub_string.html">SubString</a> expire_str;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                            <span class="keywordflow">if</span> (!params_str.<a class="code" href="structevo_1_1_sub_string.html#a54f8a91d8a43c56e9b853afad6cef1ee">token</a>(expire_str, DELIM) || expire_str.<a class="code" href="structevo_1_1_sub_string.html#a644718bb2fb240de962dc3c9a1fdf0dc">empty</a>() || params_str.<a class="code" href="structevo_1_1_sub_string.html#a6241955fedd7176f5e7e3b30542d9c3f">stripl</a>(DELIM).<a class="code" href="structevo_1_1_sub_string.html#a644718bb2fb240de962dc3c9a1fdf0dc">empty</a>()) {</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                                handler.send_client_error(<span class="stringliteral">&quot;Missing parameter, expected expire value and key(s)&quot;</span>);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                                handled = <span class="keyword">true</span>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                            }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                            adv_params.<a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#ac4ee5757a4cdfc806b79b8884747ccd4">expire</a> = expire_str.<a class="code" href="structevo_1_1_sub_string.html#a2ed8a006ac7b3d4fd6f93ff1cf23b45b">getnum</a>&lt;uint64&gt;();</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                            adv_params_ptr = &amp;adv_params;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                        }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                        <span class="keywordflow">default</span>:</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                            <span class="keywordflow">if</span> (params_str.<a class="code" href="structevo_1_1_sub_string.html#a644718bb2fb240de962dc3c9a1fdf0dc">empty</a>()) {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                handler.send_client_error(<span class="stringliteral">&quot;Missing parameter, expected key(s)&quot;</span>);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                                handled = <span class="keyword">true</span>;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                            }</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                    }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                    <span class="keywordflow">if</span> (handled)</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                    <span class="keywordflow">if</span> (adv_params_ptr != NULL &amp;&amp; logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>)) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                        logstr.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>().<a class="code" href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">reserve</a>(48) &lt;&lt; <span class="stringliteral">&quot;MemcServer get adv:&quot;</span> &lt;&lt; command_str;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                        <span class="keywordflow">if</span> (!adv_params.<a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#ac4ee5757a4cdfc806b79b8884747ccd4">expire</a>.<a class="code" href="classevo_1_1_nullable.html#a5fc3ccc049f9327dc84116f44bde5c26">null</a>())</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                            logstr &lt;&lt; <span class="stringliteral">&quot; exp:&quot;</span> &lt;&lt; *adv_params.<a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#ac4ee5757a4cdfc806b79b8884747ccd4">expire</a>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                        logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">LOG_LEVEL_DEBUG_LOW</a>, logstr);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                    }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                    uint deferred = 0;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                    <a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html">HandlerBase::GetStartResult</a> result = handler.on_get_start(context_ref, params_str, adv_params_ptr);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                    <span class="keywordflow">switch</span> (result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#a0c4745bf49cf057bb5a955df37c5a4dc">type</a>) {</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                        <span class="keywordflow">case</span> HandlerBase::rtNORMAL:</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                            <span class="keywordflow">switch</span> (result.<a class="code" href="structevo_1_1_async_server_handler_1_1_response_result.html#aa8c570067a84909ac175d26fc72bb684">result</a>) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                                <span class="keywordflow">case</span> HandlerBase::gsrCONTINUE: {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                                    <span class="comment">// Call on_get() for each key</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                                    <a class="code" href="structevo_1_1_str_tok_variant.html">StrTokWord</a> tok(params_str);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                                    <span class="keywordflow">while</span> (tok.nextw(DELIM)) {</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                                        <span class="keywordflow">if</span> (logger.<a class="code" href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">check</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>))</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                                            logger.<a class="code" href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">log_direct</a>(<a class="code" href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">LOG_LEVEL_DEBUG</a>, logstr.<a class="code" href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">set</a>().<a class="code" href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">reserve</a>(24 + tok.value().size()) &lt;&lt; <span class="stringliteral">&quot;MemcServer on_get &#39;&quot;</span> &lt;&lt; tok.value() &lt;&lt; <span class="charliteral">&#39;\&#39;&#39;</span>);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                                        <span class="keywordflow">switch</span> (handler.on_get(context_ref, tok.value(), adv_params_ptr)) {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                                            <span class="keywordflow">case</span> HandlerBase::rtNORMAL:   <span class="keywordflow">break</span>;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                                            <span class="keywordflow">case</span> HandlerBase::rtHANDLED:  handled = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                                            <span class="keywordflow">case</span> HandlerBase::rtDEFERRED: ++deferred; <a class="code" href="memcached__server_8h.html#a01c627f6702a100e711b3c4ef8aaaeb7">EVO_HELPER_HANDLER_DEFCHECK</a>(<span class="stringliteral">&quot;on_get&quot;</span>, <span class="stringliteral">&quot; from on_get()&quot;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                                            <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// rtCLOSE</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                                        }</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                                        <a class="code" href="memcached__server_8h.html#a18bd838eb44e057b936a3b4fd592f3ee">EVO_HELPER_HANDLER_END_DEFCHECK</a>(<span class="stringliteral">&quot;on_get&quot;</span>);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                                        <span class="keywordflow">if</span> (handled)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                                    }</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                                }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                                <span class="keywordflow">case</span> HandlerBase::gsrSKIP:</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                            }</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                        <span class="keywordflow">case</span> HandlerBase::rtDEFERRED: ++deferred; <a class="code" href="memcached__server_8h.html#a01c627f6702a100e711b3c4ef8aaaeb7">EVO_HELPER_HANDLER_DEFCHECK</a>(<span class="stringliteral">&quot;on_get&quot;</span>, <span class="stringliteral">&quot; from on_get_start()&quot;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                        <span class="keywordflow">case</span> HandlerBase::rtHANDLED:  handled = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                        <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// rtCLOSE</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                    }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                    <a class="code" href="memcached__server_8h.html#a18bd838eb44e057b936a3b4fd592f3ee">EVO_HELPER_HANDLER_END_DEFCHECK</a>(<span class="stringliteral">&quot;on_get_start&quot;</span>);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                    <span class="keywordflow">if</span> (!handled) {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                        <span class="keywordflow">switch</span> (handler.on_get_end(context_ref)) {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                            <span class="keywordflow">case</span> HandlerBase::rtNORMAL:   <span class="keywordflow">break</span>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                            <span class="keywordflow">case</span> HandlerBase::rtHANDLED:  handled = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                            <span class="keywordflow">case</span> HandlerBase::rtDEFERRED: ++deferred; <a class="code" href="memcached__server_8h.html#a01c627f6702a100e711b3c4ef8aaaeb7">EVO_HELPER_HANDLER_DEFCHECK</a>(<span class="stringliteral">&quot;on_get&quot;</span>, <span class="stringliteral">&quot; from on_get_end()&quot;</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                            <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// rtCLOSE</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                        }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                        <a class="code" href="memcached__server_8h.html#a18bd838eb44e057b936a3b4fd592f3ee">EVO_HELPER_HANDLER_END_DEFCHECK</a>(<span class="stringliteral">&quot;on_get_end&quot;</span>);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                        <span class="keywordflow">if</span> (!handled &amp;&amp; deferred == 0) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                            <a class="code" href="classevo_1_1_string.html">String</a> buf(<span class="stringliteral">&quot;END\r\n&quot;</span>, 5);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                            handler.reply.send(handler.id, buf);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                            handler.reply.send_end();</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                        }</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                    }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                }</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                <span class="comment">// Misc</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cSTATS: handler.on_stats(params_str); <span class="keywordflow">break</span>;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <span class="keywordflow">case</span> HandlerBase::cQUIT:  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                <span class="comment">// Unknown</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                <span class="keywordflow">default</span>: {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                    <span class="keywordtype">bool</span> handled = <span class="keyword">false</span>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                    <span class="keywordflow">if</span> (!handler.on_command(handled, command_str, params_str))</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                    <span class="keywordflow">if</span> (!handled)</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                        <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="stringliteral">&quot;ERROR\r\n&quot;</span>, 7);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            buffers.<a class="code" href="classevo_1_1_async_buffers.html#a583b28521d1bfb1de8bda9ec0bd60e95">read_flush</a>();</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        }</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    }</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"><a class="line" href="structevo_1_1async_1_1_memcached_server.html#a1f4051c1ca2d5a42fd2450e05aae5250"> 1144</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structevo_1_1async_1_1_memcached_server.html#a1f4051c1ca2d5a42fd2450e05aae5250">on_error</a>(<a class="code" href="group___evo_i_o.html#gaa9de21c87ab89aacb9da9dba6b240114">AsyncError</a> err) {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        handler.on_error(err);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="preprocessor">    #undef EVO_HELPER_HANDLER_END_DEFCHECK</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="preprocessor">    #undef EVO_HELPER_HANDLER_CASES</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="preprocessor">    #undef EVO_HELPER_HANDLER_DEFCHECK</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153">HandlerBase::Command</a>     command;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html">HandlerBase::StoreParams</a> storage_params;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="comment">// String literals only</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">reply</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* data, <a class="code" href="namespaceevo.html#a1f3dcaec0c37fcfd9cdf3227d41fa3bd">StrSizeT</a> <a class="code" href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9db2982ee588e274bcf05048cc6a98c2">size</a>) {</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordflow">if</span> (!handler.noreply) {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            <a class="code" href="classevo_1_1_string.html">String</a> data_str(data, size);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            handler.reply.send(handler.id, data_str);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            handler.reply.send_end();</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    }</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;};</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;}</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="group___evo_tools_html_ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177"><div class="ttname"><a href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a538b2b6e011479d408ecd2be0f6d6177">evo::LOG_LEVEL_DEBUG</a></div><div class="ttdoc">High-level debug message, used for showing debug info for higher-level behavior (DBUG) ...</div><div class="ttdef"><b>Definition:</b> logger.h:136</div></div>
<div class="ttc" id="structevo_1_1_sub_string_html_a644718bb2fb240de962dc3c9a1fdf0dc"><div class="ttname"><a href="structevo_1_1_sub_string.html#a644718bb2fb240de962dc3c9a1fdf0dc">evo::SubString::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Get whether empty. </div></div>
<div class="ttc" id="structevo_1_1_logger_ptr_html_a3f8192004c04c3a5eec8428dc6c93954"><div class="ttname"><a href="structevo_1_1_logger_ptr.html#a3f8192004c04c3a5eec8428dc6c93954">evo::LoggerPtr::log_direct</a></div><div class="ttdeci">void log_direct(LogLevel level, const SubString &amp;msg)</div><div class="ttdoc">Log a message with given log level directly without checking the current log level. </div><div class="ttdef"><b>Definition:</b> logger.h:423</div></div>
<div class="ttc" id="classevo_1_1_list_html_acce0ab2cacc475b2434f24c65c91685a"><div class="ttname"><a href="classevo_1_1_list.html#acce0ab2cacc475b2434f24c65c91685a">evo::List::size</a></div><div class="ttdeci">Size size() const</div><div class="ttdoc">Get size. </div><div class="ttdef"><b>Definition:</b> list.h:759</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html_a3ed0cd23fd8dfec5c1a4c50bc7c705d4"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a3ed0cd23fd8dfec5c1a4c50bc7c705d4">evo::async::MemcachedServerHandlerBase::DeferredReply::deferred_reply_error</a></div><div class="ttdeci">void deferred_reply_error(const SubString &amp;msg)</div><div class="ttdoc">Finish deferred response with an error. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:151</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_html"><div class="ttname"><a href="structevo_1_1async_1_1_memcached.html">evo::async::Memcached</a></div><div class="ttdoc">General types used when implementing MemcachedClient or server callbacks. </div><div class="ttdef"><b>Definition:</b> memcached_common.h:23</div></div>
<div class="ttc" id="structevo_1_1_async_server_handler_html_af5055605e320b3f9ea9fa330b57604e7"><div class="ttname"><a href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7">evo::AsyncServerHandler::ResponseType</a></div><div class="ttdeci">ResponseType</div><div class="ttdoc">Handler response type – used with ResponseResult. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:375</div></div>
<div class="ttc" id="memcached__server_8h_html_a18bd838eb44e057b936a3b4fd592f3ee"><div class="ttname"><a href="memcached__server_8h.html#a18bd838eb44e057b936a3b4fd592f3ee">EVO_HELPER_HANDLER_END_DEFCHECK</a></div><div class="ttdeci">#define EVO_HELPER_HANDLER_END_DEFCHECK(EVENT_NAME)</div><div class="ttdef"><b>Definition:</b> memcached_server.h:807</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153ad534c2adf46025ff0fc059166acf2f4b"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153ad534c2adf46025ff0fc059166acf2f4b">evo::async::MemcachedServerHandlerBase::cADD</a></div><div class="ttdoc">Add value if not found. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:44</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153aa79e7b3566c69b7f2558b661d69b0831"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153aa79e7b3566c69b7f2558b661d69b0831">evo::async::MemcachedServerHandlerBase::cVERSION</a></div><div class="ttdoc">Get server version. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:60</div></div>
<div class="ttc" id="structevo_1_1_sub_string_html_a54f8a91d8a43c56e9b853afad6cef1ee"><div class="ttname"><a href="structevo_1_1_sub_string.html#a54f8a91d8a43c56e9b853afad6cef1ee">evo::SubString::token</a></div><div class="ttdeci">bool token(StringT &amp;value, char delim)</div><div class="ttdoc">Extract next token from string. </div><div class="ttdef"><b>Definition:</b> substring.h:383</div></div>
<div class="ttc" id="classevo_1_1_nullable_html_a5fc3ccc049f9327dc84116f44bde5c26"><div class="ttname"><a href="classevo_1_1_nullable.html#a5fc3ccc049f9327dc84116f44bde5c26">evo::Nullable::null</a></div><div class="ttdeci">bool null() const</div><div class="ttdoc">Get whether null. </div><div class="ttdef"><b>Definition:</b> type.h:318</div></div>
<div class="ttc" id="memcached__server_8h_html_a01c627f6702a100e711b3c4ef8aaaeb7"><div class="ttname"><a href="memcached__server_8h.html#a01c627f6702a100e711b3c4ef8aaaeb7">EVO_HELPER_HANDLER_DEFCHECK</a></div><div class="ttdeci">#define EVO_HELPER_HANDLER_DEFCHECK(EVENT_NAME, EVENT_MSG_SUFFIX)</div><div class="ttdef"><b>Definition:</b> memcached_server.h:784</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153ace1f5d59254f04058822ff7f04b45d1d"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153ace1f5d59254f04058822ff7f04b45d1d">evo::async::MemcachedServerHandlerBase::cSET</a></div><div class="ttdoc">Set new value. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:57</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html_a523085eb363721812681a211c8cc170a"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a523085eb363721812681a211c8cc170a">evo::async::MemcachedServerHandlerBase::DeferredReply::deferred_reply_touch</a></div><div class="ttdeci">void deferred_reply_touch(bool success)</div><div class="ttdoc">Finish touch request and report result. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:236</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_ac212846f396e299757e6c81f70984234"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#ac212846f396e299757e6c81f70984234">evo::async::MemcachedServer::Handler</a></div><div class="ttdeci">T Handler</div><div class="ttdoc">User defined handler type. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:760</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153ac83dff0c2a6c019a636d9968f9ef7fd1"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153ac83dff0c2a6c019a636d9968f9ef7fd1">evo::async::MemcachedServerHandlerBase::cSTATS</a></div><div class="ttdoc">Get server stats. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:58</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2f5f55686baf514709b7ea1d246e3c7c"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2f5f55686baf514709b7ea1d246e3c7c">evo::async::MemcachedServerHandlerBase::send_client_error</a></div><div class="ttdeci">void send_client_error(const SubString &amp;msg)</div><div class="ttdoc">Helper to send a client error response. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:584</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_html_a3d4adcc9309b0cf493361bdbd51996a9aa8f77ef5462a55e0bbbebecbf0f6a562"><div class="ttname"><a href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9aa8f77ef5462a55e0bbbebecbf0f6a562">evo::async::Memcached::srNOT_STORED</a></div><div class="ttdoc">Not stored due to unmet condtion for append, prepend, add, or replace command. </div><div class="ttdef"><b>Definition:</b> memcached_common.h:38</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a838989b932cca7e3a32c937845944809"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a838989b932cca7e3a32c937845944809">evo::async::MemcachedServerHandlerBase::cGETS</a></div><div class="ttdoc">Get value for compare and swap. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:52</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a977c8c4664bf47e4f9d870d24c84101d"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a977c8c4664bf47e4f9d870d24c84101d">evo::async::MemcachedServerHandlerBase::cDECREMENT</a></div><div class="ttdoc">Decrement numeric value for key. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:47</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_ac4fcbcb46607b333ad84dda2ee253408"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#ac4fcbcb46607b333ad84dda2ee253408">evo::async::MemcachedServer::DeferredContext</a></div><div class="ttdeci">Handler::DeferredContext DeferredContext</div><div class="ttdoc">Alias for Handler::DeferredContext. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:763</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a15f7b68aefaf608ee08592bc26ca9df0"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a15f7b68aefaf608ee08592bc26ca9df0">evo::async::MemcachedServerHandlerBase::noreply</a></div><div class="ttdeci">bool noreply</div><div class="ttdoc">Whether no-reply mode is enabled (set by parent protocol class) </div><div class="ttdef"><b>Definition:</b> memcached_server.h:288</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a8e883f4ff67bb19a907a34fadfbc915b"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a8e883f4ff67bb19a907a34fadfbc915b">evo::async::MemcachedServerHandlerBase::on_increment</a></div><div class="ttdeci">virtual IncrementResult on_increment(DeferredContext &amp;context, const SubString &amp;key, uint64 count, bool decrement)</div><div class="ttdoc">Called on INCR or DECR request to increment or decrement a numeric value. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:374</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a53834027b7f2b51a990c63206348a403"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a53834027b7f2b51a990c63206348a403">evo::async::MemcachedServerHandlerBase::on_stats</a></div><div class="ttdeci">virtual void on_stats(SubString &amp;params)</div><div class="ttdoc">Called on STATS request for statistics. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:531</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_aced294458beb1e49b02dac1796768b1b"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#aced294458beb1e49b02dac1796768b1b">evo::async::MemcachedServer::logger</a></div><div class="ttdeci">LoggerPtr logger</div><div class="ttdoc">Logger to use. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:769</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params_html_a29f85b402bc3c61c0e0ce7b92b6dabc9"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#a29f85b402bc3c61c0e0ce7b92b6dabc9">evo::async::MemcachedServerHandlerBase::GetAdvParams::cas</a></div><div class="ttdeci">bool cas</div><div class="ttdoc">Whether CAS is enabled, if true the handler must include a cas_id when sending response values with s...</div><div class="ttdef"><b>Definition:</b> memcached_server.h:125</div></div>
<div class="ttc" id="structevo_1_1_async_server_handler_1_1_response_result_html"><div class="ttname"><a href="structevo_1_1_async_server_handler_1_1_response_result.html">evo::AsyncServerHandler::ResponseResult</a></div><div class="ttdoc">Handler response result. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:389</div></div>
<div class="ttc" id="structevo_1_1_async_server_handler_html_aff54ea10976eda7c4ddc88b5bd329492"><div class="ttname"><a href="structevo_1_1_async_server_handler.html#aff54ea10976eda7c4ddc88b5bd329492">evo::AsyncServerHandler::buffers</a></div><div class="ttdeci">AsyncBuffers buffers</div><div class="ttdoc">Buffers for async I/O. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:496</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params_html_a81a27ce50e78368b0d0de1e8767fd32d"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a81a27ce50e78368b0d0de1e8767fd32d">evo::async::MemcachedServerHandlerBase::StoreParams::flags</a></div><div class="ttdeci">uint32 flags</div><div class="ttdoc">Flags to store, returned with GET. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:88</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a58461a31cb566d1c63e68ecdf3f034a5"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a58461a31cb566d1c63e68ecdf3f034a5">evo::async::MemcachedServerHandlerBase::get_max_initial_read</a></div><div class="ttdeci">static size_t get_max_initial_read()</div><div class="ttdef"><b>Definition:</b> memcached_server.h:298</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_aca0171ddd9b0461b59eb7d14ea6e54bb"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#aca0171ddd9b0461b59eb7d14ea6e54bb">evo::async::MemcachedServerHandlerBase::send_value</a></div><div class="ttdeci">void send_value(const SubString &amp;key, const SubString &amp;value, uint32 flags=0, uint64 *cas_id=NULL)</div><div class="ttdoc">Helper to send value for get response. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:633</div></div>
<div class="ttc" id="structevo_1_1_logger_ptr_html"><div class="ttname"><a href="structevo_1_1_logger_ptr.html">evo::LoggerPtr</a></div><div class="ttdoc">Wraps a logger pointer that can reference a logger to use or be disabled. </div><div class="ttdef"><b>Definition:</b> logger.h:377</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_af19ace4d6ae0de3c0eaac5e57846e327"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#af19ace4d6ae0de3c0eaac5e57846e327">evo::async::MemcachedServerHandlerBase::on_store</a></div><div class="ttdeci">virtual StoreResult on_store(DeferredContext &amp;context, StoreParams &amp;params, SubString &amp;value, Command command, uint64 cas_id)</div><div class="ttdoc">Called on STORE request to store a value. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:344</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153afde91ccd8c40b27e6634a6533bfb2c95"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153afde91ccd8c40b27e6634a6533bfb2c95">evo::async::MemcachedServerHandlerBase::cCAS</a></div><div class="ttdoc">Compare and swap </div><div class="ttdef"><b>Definition:</b> memcached_server.h:46</div></div>
<div class="ttc" id="structevo_1_1_str_tok_variant_html"><div class="ttname"><a href="structevo_1_1_str_tok_variant.html">evo::StrTokVariant</a></div><div class="ttdoc">String tokenizer adapter used internally to create variants of existing tokenizers – do not use dire...</div><div class="ttdef"><b>Definition:</b> strtok.h:1401</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a89405e990b8fbb9b671c3c32d0b91a13"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a89405e990b8fbb9b671c3c32d0b91a13">evo::async::MemcachedServerHandlerBase::DeferredContext</a></div><div class="ttdeci">DeferredContextT&lt; MemcachedServerHandlerBase &gt; DeferredContext</div><div class="ttdoc">Deferred context helper – used by AsyncServer. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:129</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a90e4c65236c3585988e5ea7b3b6ad7ee"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a90e4c65236c3585988e5ea7b3b6ad7ee">evo::async::MemcachedServerHandlerBase::enable_cas</a></div><div class="ttdeci">bool enable_cas</div><div class="ttdoc">Derived constructor must set to true to enable &quot;compare and swap&quot; (gets/gats command) ...</div><div class="ttdef"><b>Definition:</b> memcached_server.h:290</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html">evo::async::MemcachedServerHandlerBase</a></div><div class="ttdoc">Base class for user defined Memcached server handler. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:38</div></div>
<div class="ttc" id="classevo_1_1_async_server_reply_t_html_a082f17616755877afdbe5d5cf206b245a790c916360e31708fbbf986324935a54"><div class="ttname"><a href="classevo_1_1_async_server_reply_t.html#a082f17616755877afdbe5d5cf206b245a790c916360e31708fbbf986324935a54">evo::AsyncServerReplyT::wfDEFERRED</a></div><div class="ttdoc">Deferred but not the last part of this response. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:32</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_a47d40928479da0383058cfc7608f5d38"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#a47d40928479da0383058cfc7608f5d38">evo::async::MemcachedServer::Server</a></div><div class="ttdeci">AsyncServer&lt; This &gt; Server</div><div class="ttdoc">Server type. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:762</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a5334742becb3aa7bbe57ea40b85c174a"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a5334742becb3aa7bbe57ea40b85c174a">evo::async::MemcachedServerHandlerBase::Memcached</a></div><div class="ttdeci">evo::async::Memcached Memcached</div><div class="ttdoc">Alias for evo::async::Memcached </div><div class="ttdef"><b>Definition:</b> memcached_server.h:39</div></div>
<div class="ttc" id="structevo_1_1_string_int_html"><div class="ttname"><a href="structevo_1_1_string_int.html">evo::StringInt</a></div><div class="ttdoc">String fixed-size buffer for formatting an integer. </div><div class="ttdef"><b>Definition:</b> string.h:54</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_ac50a8441b41351aedaad35824160a0b1"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#ac50a8441b41351aedaad35824160a0b1">evo::async::MemcachedServerHandlerBase::on_command</a></div><div class="ttdeci">virtual bool on_command(bool &amp;handled, SubString &amp;command_str, SubString &amp;params)</div><div class="ttdoc">Called on any other command. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:552</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_a172ce36b1f8f9f54c02428fdb3d337d3"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#a172ce36b1f8f9f54c02428fdb3d337d3">evo::async::MemcachedServer::This</a></div><div class="ttdeci">MemcachedServer&lt; Handler &gt; This</div><div class="ttdoc">This type. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:761</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html_a13763903bde10156899d3be20cca80fb"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a13763903bde10156899d3be20cca80fb">evo::async::MemcachedServerHandlerBase::DeferredReply::~DeferredReply</a></div><div class="ttdeci">~DeferredReply()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:141</div></div>
<div class="ttc" id="classevo_1_1_async_server_reply_t_html_a082f17616755877afdbe5d5cf206b245a136c252719e7ee607cc66b07d1bb0c29"><div class="ttname"><a href="classevo_1_1_async_server_reply_t.html#a082f17616755877afdbe5d5cf206b245a136c252719e7ee607cc66b07d1bb0c29">evo::AsyncServerReplyT::wfNONE</a></div><div class="ttdef"><b>Definition:</b> ioasync_server.h:31</div></div>
<div class="ttc" id="group___evo_containers_html_ga74dbbe26bf9a19598be4726357e31e81"><div class="ttname"><a href="group___evo_containers.html#ga74dbbe26bf9a19598be4726357e31e81">EVO_ENUM_MAP_PREFIXED</a></div><div class="ttdeci">#define EVO_ENUM_MAP_PREFIXED(ENUM, PREFIX,...)</div><div class="ttdoc">Helper for creating enum string/value mappers with prefixed enum values. </div><div class="ttdef"><b>Definition:</b> enum.h:219</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a9b295e38813ff9a1fcd36f0a2c692872"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a9b295e38813ff9a1fcd36f0a2c692872">evo::async::MemcachedServerHandlerBase::send_error</a></div><div class="ttdeci">void send_error(const SubString &amp;msg)</div><div class="ttdoc">Helper to send a server error response. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:598</div></div>
<div class="ttc" id="structevo_1_1_integer_t_html"><div class="ttname"><a href="structevo_1_1_integer_t.html">evo::IntegerT&lt; int64 &gt;</a></div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a991696494306a31ac1a481b44956703f"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a991696494306a31ac1a481b44956703f">evo::async::MemcachedServerHandlerBase::on_flush_all</a></div><div class="ttdeci">virtual void on_flush_all(ulong delay_sec)</div><div class="ttdoc">Called on FLUSH_ALL request to expire all keys. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:522</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params_html_a9db2982ee588e274bcf05048cc6a98c2"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9db2982ee588e274bcf05048cc6a98c2">evo::async::MemcachedServerHandlerBase::StoreParams::size</a></div><div class="ttdeci">ulong size</div><div class="ttdoc">Value size to store. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:90</div></div>
<div class="ttc" id="group___evo_tokenizers_html_ga2903658a80203a0f2c690dc2ab68a434"><div class="ttname"><a href="group___evo_tokenizers.html#ga2903658a80203a0f2c690dc2ab68a434">EVO_TOK_NEXT_OR_BREAK</a></div><div class="ttdeci">#define EVO_TOK_NEXT_OR_BREAK(TOK, DELIM)</div><div class="ttdoc">Helper for tokenizing using a break-loop. </div><div class="ttdef"><b>Definition:</b> strtok.h:1854</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2b6c82e536bad294ab9e380efc052b34abc0b19f391c9f290662c86ae30ce7ee6"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34abc0b19f391c9f290662c86ae30ce7ee6">evo::async::MemcachedServerHandlerBase::gsrCONTINUE</a></div><div class="ttdoc">Continue to on_get() events. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:98</div></div>
<div class="ttc" id="structevo_1_1_sub_string_html_acce0ab2cacc475b2434f24c65c91685a"><div class="ttname"><a href="structevo_1_1_sub_string.html#acce0ab2cacc475b2434f24c65c91685a">evo::SubString::size</a></div><div class="ttdeci">Size size() const</div><div class="ttdoc">Get size. </div></div>
<div class="ttc" id="classevo_1_1_async_buffers_html"><div class="ttname"><a href="classevo_1_1_async_buffers.html">evo::AsyncBuffers</a></div><div class="ttdoc">Holds data for async I/O buffers (used internally with AsyncServer and protocol implementations). </div><div class="ttdef"><b>Definition:</b> ioasync_base.h:134</div></div>
<div class="ttc" id="group___evo_tools_html_ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2"><div class="ttname"><a href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9ac2e9a3cfe94e22dcd93c16e1fa45d8b2">evo::LOG_LEVEL_DEBUG_LOW</a></div><div class="ttdoc">Low-level debug message, used for showing debug info for lower-level internal or library details (DBG...</div><div class="ttdef"><b>Definition:</b> logger.h:137</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a2027a48c80bc31ab6a1ff22a8cc73787"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a2027a48c80bc31ab6a1ff22a8cc73787">evo::async::MemcachedServerHandlerBase::cQUIT</a></div><div class="ttdoc">Quit command to close connection. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:55</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2a5c021413f5b2c014b8b82711caff58"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2a5c021413f5b2c014b8b82711caff58">evo::async::MemcachedServerHandlerBase::on_error</a></div><div class="ttdeci">virtual void on_error(AsyncError err)</div><div class="ttdoc">Called on error. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:562</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a37a798d7078683a4f98ae974d12f5052"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a37a798d7078683a4f98ae974d12f5052">evo::async::MemcachedServerHandlerBase::on_get_end</a></div><div class="ttdeci">virtual ResponseType on_get_end(DeferredContext &amp;context)</div><div class="ttdoc">Called at end of GET request. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:514</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params_html"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html">evo::async::MemcachedServerHandlerBase::StoreParams</a></div><div class="ttdoc">STORE command parameters. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:86</div></div>
<div class="ttc" id="structevo_1_1_async_server_handler_1_1_response_result_html_aa8c570067a84909ac175d26fc72bb684"><div class="ttname"><a href="structevo_1_1_async_server_handler_1_1_response_result.html#aa8c570067a84909ac175d26fc72bb684">evo::AsyncServerHandler::ResponseResult::result</a></div><div class="ttdeci">ResultType result</div><div class="ttdoc">Normal response result – ignored unless type=rtNORMAL </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:393</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_html_a3d4adcc9309b0cf493361bdbd51996a9aa410d112ef6705e88e7efd9bb7950977"><div class="ttname"><a href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9aa410d112ef6705e88e7efd9bb7950977">evo::async::Memcached::srNOT_FOUND</a></div><div class="ttdoc">Item not found, can&amp;#39;t compare-and-swap (CAS command only) </div><div class="ttdef"><b>Definition:</b> memcached_common.h:37</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a7c3180b6a16781c3d38fd6f867426ede"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a7c3180b6a16781c3d38fd6f867426ede">evo::async::MemcachedServerHandlerBase::cREPLACE</a></div><div class="ttdoc">Replace value if found. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:56</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_afd8e4a0350cb6e3218c8563159aa0c19"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#afd8e4a0350cb6e3218c8563159aa0c19">evo::async::MemcachedServerHandlerBase::DeleteResult</a></div><div class="ttdeci">ResponseResult&lt; GeneralResultValue &gt; DeleteResult</div><div class="ttdoc">DELETE command result returned by on_delete() </div><div class="ttdef"><b>Definition:</b> memcached_server.h:111</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153abf65490817ebe330a10059df35ec5490"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153abf65490817ebe330a10059df35ec5490">evo::async::MemcachedServerHandlerBase::cPREPEND</a></div><div class="ttdoc">Prepend to existing value. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:54</div></div>
<div class="ttc" id="structevo_1_1_async_server_reply_t_1_1_writer_html"><div class="ttname"><a href="structevo_1_1_async_server_reply_t_1_1_writer.html">evo::AsyncServerReplyT::Writer</a></div><div class="ttdoc">Response writer used to group multiple writes together for best performance. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:43</div></div>
<div class="ttc" id="classevo_1_1_string_html_a39a256207a84f316547e36c755373d03"><div class="ttname"><a href="classevo_1_1_string.html#a39a256207a84f316547e36c755373d03">evo::String::data</a></div><div class="ttdeci">const char * data() const</div><div class="ttdoc">Get string pointer (const). </div><div class="ttdef"><b>Definition:</b> string.h:1533</div></div>
<div class="ttc" id="namespaceevo_html_a1f3dcaec0c37fcfd9cdf3227d41fa3bd"><div class="ttname"><a href="namespaceevo.html#a1f3dcaec0c37fcfd9cdf3227d41fa3bd">evo::StrSizeT</a></div><div class="ttdeci">uint32 StrSizeT</div><div class="ttdoc">Default Evo string size type. </div><div class="ttdef"><b>Definition:</b> sys.h:734</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a0a50bf6c66db7561db7657f392bdf4e5"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a0a50bf6c66db7561db7657f392bdf4e5">evo::async::MemcachedServerHandlerBase::GetStartResult</a></div><div class="ttdeci">ResponseResult&lt; GetStartResultValue &gt; GetStartResult</div><div class="ttdoc">GET command result returned by on_get_start() </div><div class="ttdef"><b>Definition:</b> memcached_server.h:109</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a176dd8cec335faed7f880925d6b3b6ec"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a176dd8cec335faed7f880925d6b3b6ec">evo::async::MemcachedServerHandlerBase::send_reply</a></div><div class="ttdeci">void send_reply(const SubString &amp;msg)</div><div class="ttdoc">Helper to send a reply message. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:571</div></div>
<div class="ttc" id="group___evo_containers_html_gga04e52ddd0c4be8a2754bbcfdf5bffe35a197444c2609d2c73b11df326e320d97d"><div class="ttname"><a href="group___evo_containers.html#gga04e52ddd0c4be8a2754bbcfdf5bffe35a197444c2609d2c73b11df326e320d97d">evo::fDEC</a></div><div class="ttdoc">Base 10: decimal (default) </div><div class="ttdef"><b>Definition:</b> str.h:2323</div></div>
<div class="ttc" id="classevo_1_1_string_html"><div class="ttname"><a href="classevo_1_1_string.html">evo::String</a></div><div class="ttdoc">String container. </div><div class="ttdef"><b>Definition:</b> string.h:674</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a0bc11b53296316336262aaf3444c7932"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a0bc11b53296316336262aaf3444c7932">evo::async::MemcachedServerHandlerBase::on_version</a></div><div class="ttdeci">virtual void on_version(String &amp;version)</div><div class="ttdoc">Called on VERSION request for server version. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:540</div></div>
<div class="ttc" id="structevo_1_1_string_int_html_a219a41ab8fb6246ea2bc13678191cc79"><div class="ttname"><a href="structevo_1_1_string_int.html#a219a41ab8fb6246ea2bc13678191cc79">evo::StringInt::set</a></div><div class="ttdeci">ThisType &amp; set()</div><div class="ttdoc">Set as null. </div><div class="ttdef"><b>Definition:</b> string.h:99</div></div>
<div class="ttc" id="structevo_1_1_sub_string_html_a2ed8a006ac7b3d4fd6f93ff1cf23b45b"><div class="ttname"><a href="structevo_1_1_sub_string.html#a2ed8a006ac7b3d4fd6f93ff1cf23b45b">evo::SubString::getnum</a></div><div class="ttdeci">T getnum(Error &amp;error, int base=0) const</div><div class="ttdoc">Convert to number value for given integer type. </div><div class="ttdef"><b>Definition:</b> substring.h:1351</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153">evo::async::MemcachedServerHandlerBase::Command</a></div><div class="ttdeci">Command</div><div class="ttdoc">Command value. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:42</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params_html_a61b3e485b3726f594d6b8cab23380774"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a61b3e485b3726f594d6b8cab23380774">evo::async::MemcachedServerHandlerBase::StoreParams::cas_id</a></div><div class="ttdeci">uint64 cas_id</div><div class="ttdoc">CAS ID – only used for CAS command. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:91</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params_html_a9295944786eaac08ccf5d53ca07fe18b"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a9295944786eaac08ccf5d53ca07fe18b">evo::async::MemcachedServerHandlerBase::StoreParams::key</a></div><div class="ttdeci">String key</div><div class="ttdoc">Key to store. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:87</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a21bc59db2463270bd112a4609a91ba87"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a21bc59db2463270bd112a4609a91ba87">evo::async::MemcachedServerHandlerBase::cUNKNOWN</a></div><div class="ttdoc">Unknown command (always first) </div><div class="ttdef"><b>Definition:</b> memcached_server.h:43</div></div>
<div class="ttc" id="structevo_1_1_sub_string_html_a6241955fedd7176f5e7e3b30542d9c3f"><div class="ttname"><a href="structevo_1_1_sub_string.html#a6241955fedd7176f5e7e3b30542d9c3f">evo::SubString::stripl</a></div><div class="ttdeci">SubString &amp; stripl()</div><div class="ttdoc">Strip left (beginning) whitespace (spaces and tabs). </div><div class="ttdef"><b>Definition:</b> substring.h:1090</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a4a354f1cd31b199acab9db67c9457b93"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a4a354f1cd31b199acab9db67c9457b93">evo::async::MemcachedServerHandlerBase::cGAT</a></div><div class="ttdoc">Get value and update expiratiom time. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:49</div></div>
<div class="ttc" id="structevo_1_1_sub_string_html_ac66d7d86f36fe1253a94eb820204f74a"><div class="ttname"><a href="structevo_1_1_sub_string.html#ac66d7d86f36fe1253a94eb820204f74a">evo::SubString::stripr</a></div><div class="ttdeci">SubString &amp; stripr()</div><div class="ttdoc">Strip right (ending) whitespace (spaces and tabs). </div><div class="ttdef"><b>Definition:</b> substring.h:1135</div></div>
<div class="ttc" id="classevo_1_1_async_server_html"><div class="ttname"><a href="classevo_1_1_async_server.html">evo::AsyncServer</a></div><div class="ttdoc">Async I/O server for receiving and handling requests. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:576</div></div>
<div class="ttc" id="group___evo_i_o_html_gaa9de21c87ab89aacb9da9dba6b240114"><div class="ttname"><a href="group___evo_i_o.html#gaa9de21c87ab89aacb9da9dba6b240114">evo::AsyncError</a></div><div class="ttdeci">AsyncError</div><div class="ttdoc">Async I/O error type. </div><div class="ttdef"><b>Definition:</b> ioasync_base.h:452</div></div>
<div class="ttc" id="structevo_1_1_string_int_html_a5c38f19f514fbc1a8d9f4b06f1166ded"><div class="ttname"><a href="structevo_1_1_string_int.html#a5c38f19f514fbc1a8d9f4b06f1166ded">evo::StringInt::add</a></div><div class="ttdeci">ThisType &amp; add(const char *data, Size size)</div><div class="ttdoc">Append additional data to buffer. </div><div class="ttdef"><b>Definition:</b> string.h:139</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a437eba2530ae7e3212c1288bd3759842"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a437eba2530ae7e3212c1288bd3759842">evo::async::MemcachedServerHandlerBase::cAPPEND</a></div><div class="ttdoc">Append to existing value. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:45</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2b6c82e536bad294ab9e380efc052b34a17c3831c11f7eb0afce341e7c939fd19"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34a17c3831c11f7eb0afce341e7c939fd19">evo::async::MemcachedServerHandlerBase::gsrSKIP</a></div><div class="ttdoc">Skip on_get() events. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:99</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a638dcc7626f2fe7151ad39df2daf3f8a"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a638dcc7626f2fe7151ad39df2daf3f8a">evo::async::MemcachedServerHandlerBase::StoreResult</a></div><div class="ttdeci">ResponseResult&lt; Memcached::StoreResult &gt; StoreResult</div><div class="ttdoc">STORE command result returned by on_store() </div><div class="ttdef"><b>Definition:</b> memcached_server.h:108</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_ab3e30b3c928187212e3c4d7636c3fdfd"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab3e30b3c928187212e3c4d7636c3fdfd">evo::async::MemcachedServerHandlerBase::GeneralResultValue</a></div><div class="ttdeci">GeneralResultValue</div><div class="ttdoc">General result used by some commands. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:103</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_ab3e30b3c928187212e3c4d7636c3fdfda01c3e59806b4bc82c08b781fbc76c653"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab3e30b3c928187212e3c4d7636c3fdfda01c3e59806b4bc82c08b781fbc76c653">evo::async::MemcachedServerHandlerBase::grNOT_FOUND</a></div><div class="ttdoc">Key not found. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:105</div></div>
<div class="ttc" id="classevo_1_1_async_buffers_html_aa74a87caea63f3372201fb343b9924d2"><div class="ttname"><a href="classevo_1_1_async_buffers.html#aa74a87caea63f3372201fb343b9924d2">evo::AsyncBuffers::read_fixed_helper</a></div><div class="ttdeci">bool read_fixed_helper(T &amp;parent, SizeT &amp;fixed_size, SizeT size, SizeT max_size=0, void *context=NULL)</div><div class="ttdoc">Helper for reading fixed size data from read buffer from a ProtocolHandler on_read() event...</div><div class="ttdef"><b>Definition:</b> ioasync_base.h:345</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a25693033ec5db8644eb7e12abb39a07e"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a25693033ec5db8644eb7e12abb39a07e">evo::async::MemcachedServerHandlerBase::cINCREMENT</a></div><div class="ttdoc">Increment numeric value for key. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:53</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_html_a3d4adcc9309b0cf493361bdbd51996a9a475217fa81e34589d51479fbb8926957"><div class="ttname"><a href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9a475217fa81e34589d51479fbb8926957">evo::async::Memcached::srEXISTS</a></div><div class="ttdoc">Item modified, interrupting compare-and-swap command (CAS command only) </div><div class="ttdef"><b>Definition:</b> memcached_common.h:36</div></div>
<div class="ttc" id="memcached__server_8h_html_a9c8867828a25d70580d52a1e3bab0624"><div class="ttname"><a href="memcached__server_8h.html#a9c8867828a25d70580d52a1e3bab0624">EVO_HELPER_HANDLER_CASES</a></div><div class="ttdeci">#define EVO_HELPER_HANDLER_CASES(EVENT_NAME)</div><div class="ttdef"><b>Definition:</b> memcached_server.h:799</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a91df06c0dff4340544d040ae33840b34"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a91df06c0dff4340544d040ae33840b34">evo::async::MemcachedServerHandlerBase::cGATS</a></div><div class="ttdoc">Get value for compare and swap and update expiratiom time. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:50</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_ac2d3f5dd81eb8750db43920c2680e956"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#ac2d3f5dd81eb8750db43920c2680e956">evo::async::MemcachedServerHandlerBase::IncrementResult</a></div><div class="ttdeci">ResponseResult&lt; UInt64 &gt; IncrementResult</div><div class="ttdoc">INCR/DECR command result. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:110</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_aaed3e79ca9fcc4640c6923c9b12a0ee8"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#aaed3e79ca9fcc4640c6923c9b12a0ee8">evo::async::MemcachedServer::Global</a></div><div class="ttdeci">Handler::Global Global</div><div class="ttdoc">Alias for Handler::Global. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:764</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153af6902e9e3c87a56386d2b3f9417ede2d"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153af6902e9e3c87a56386d2b3f9417ede2d">evo::async::MemcachedServerHandlerBase::cDELETE</a></div><div class="ttdoc">Delete by key. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:48</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_ab5eaca05bf79f8a67aedd2df6e9d86d8"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab5eaca05bf79f8a67aedd2df6e9d86d8">evo::async::MemcachedServerHandlerBase::on_delete</a></div><div class="ttdeci">virtual DeleteResult on_delete(DeferredContext &amp;context, const SubString &amp;key)</div><div class="ttdoc">Called on DELETE request to delete key and value. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:399</div></div>
<div class="ttc" id="structevo_1_1_string_int_html_a9546b93cd8f1ef10d06926b89df1a8fe"><div class="ttname"><a href="structevo_1_1_string_int.html#a9546b93cd8f1ef10d06926b89df1a8fe">evo::StringInt::data</a></div><div class="ttdeci">char * data()</div><div class="ttdoc">Get formatted string pointer. </div><div class="ttdef"><b>Definition:</b> string.h:85</div></div>
<div class="ttc" id="structevo_1_1_integer_t_html_acbed63d32f79cbb24b5965724f986872"><div class="ttname"><a href="structevo_1_1_integer_t.html#acbed63d32f79cbb24b5965724f986872">evo::IntegerT::MAXSTRLEN</a></div><div class="ttdeci">static const int MAXSTRLEN</div><div class="ttdoc">Max formatted length, including either sign or hex/octal prefix (0x/0), but not both. </div><div class="ttdef"><b>Definition:</b> type.h:987</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_aced294458beb1e49b02dac1796768b1b"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#aced294458beb1e49b02dac1796768b1b">evo::async::MemcachedServerHandlerBase::logger</a></div><div class="ttdeci">LoggerPtr logger</div><div class="ttdoc">Logger to use (set by AsyncServer) </div><div class="ttdef"><b>Definition:</b> memcached_server.h:287</div></div>
<div class="ttc" id="namespaceevo_html"><div class="ttname"><a href="namespaceevo.html">evo</a></div><div class="ttdoc">Evo C++ Library namespace. </div><div class="ttdef"><b>Definition:</b> alg.h:11</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153af7e0e817e9d97b9960eeed4bc8211c67"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153af7e0e817e9d97b9960eeed4bc8211c67">evo::async::MemcachedServerHandlerBase::cTOUCH</a></div><div class="ttdoc">Touch key by updating expiration time. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:59</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_html_a3d4adcc9309b0cf493361bdbd51996a9"><div class="ttname"><a href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9">evo::async::Memcached::StoreResult</a></div><div class="ttdeci">StoreResult</div><div class="ttdoc">Memcached store command result. </div><div class="ttdef"><b>Definition:</b> memcached_common.h:34</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html">evo::async::MemcachedServerHandlerBase::DeferredReply</a></div><div class="ttdoc">Deferred reply helper – deferred event objects should hold or inherit this, and use to send deferred...</div><div class="ttdef"><b>Definition:</b> memcached_server.h:132</div></div>
<div class="ttc" id="classevo_1_1_async_buffers_html_a583b28521d1bfb1de8bda9ec0bd60e95"><div class="ttname"><a href="classevo_1_1_async_buffers.html#a583b28521d1bfb1de8bda9ec0bd60e95">evo::AsyncBuffers::read_flush</a></div><div class="ttdeci">void read_flush()</div><div class="ttdoc">Flush and consume next line from read buffer. </div><div class="ttdef"><b>Definition:</b> ioasync_base.h:413</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a4472ee49bc5a1767a47125fba63a038c"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a4472ee49bc5a1767a47125fba63a038c">evo::async::MemcachedServerHandlerBase::cGET</a></div><div class="ttdoc">Get value. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:51</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_a6326f118bb726e817e9dbeaf5fad4a33"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#a6326f118bb726e817e9dbeaf5fad4a33">evo::async::MemcachedServer::MemcachedServer</a></div><div class="ttdeci">MemcachedServer(Global &amp;global, Shared &amp;shared, LoggerBase *logger)</div><div class="ttdoc">Constructor to create server protocol instance. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:777</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params_html_ac4ee5757a4cdfc806b79b8884747ccd4"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html#ac4ee5757a4cdfc806b79b8884747ccd4">evo::async::MemcachedServerHandlerBase::GetAdvParams::expire</a></div><div class="ttdeci">Int64 expire</div><div class="ttdoc">Expiration time in seconds from now, null if not updating expiration, 0 for no expiration, negative to expire now, or a value greater than 2592000 (30 days) means a Unix timestamp to expire on. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:124</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html_a22094f25acf37132fa140e9a62d3feb5"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a22094f25acf37132fa140e9a62d3feb5">evo::async::MemcachedServerHandlerBase::DeferredReply::deferred_reply_get</a></div><div class="ttdeci">void deferred_reply_get(const SubString &amp;key, const SubString &amp;value, uint32 flags, uint64 *cas_id=NULL)</div><div class="ttdoc">Send get request value for key. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:263</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a05c623c531024aa3f78c58cf777be0fd"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a05c623c531024aa3f78c58cf777be0fd">evo::async::MemcachedServerHandlerBase::enable_gat</a></div><div class="ttdeci">bool enable_gat</div><div class="ttdoc">Derived constructor must set to true to enable &quot;get and touch&quot; (gat/gats command) ...</div><div class="ttdef"><b>Definition:</b> memcached_server.h:289</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_html_a3d4adcc9309b0cf493361bdbd51996a9a114e324ada1ab09c183311bdd565c61c"><div class="ttname"><a href="structevo_1_1async_1_1_memcached.html#a3d4adcc9309b0cf493361bdbd51996a9a114e324ada1ab09c183311bdd565c61c">evo::async::Memcached::srSTORED</a></div><div class="ttdoc">Successfully stored. </div><div class="ttdef"><b>Definition:</b> memcached_common.h:39</div></div>
<div class="ttc" id="classevo_1_1_async_buffers_html_ad05bafcf4897ca844f064cadcb30a756"><div class="ttname"><a href="classevo_1_1_async_buffers.html#ad05bafcf4897ca844f064cadcb30a756">evo::AsyncBuffers::read_line</a></div><div class="ttdeci">bool read_line(SubString &amp;data)</div><div class="ttdoc">Read next line from read buffer. </div><div class="ttdef"><b>Definition:</b> ioasync_base.h:382</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html_a43e3afeb3f34e8585dd6d1ed47a96c3e"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#a43e3afeb3f34e8585dd6d1ed47a96c3e">evo::async::MemcachedServerHandlerBase::DeferredReply::deferred_reply_store</a></div><div class="ttdeci">void deferred_reply_store(Memcached::StoreResult result)</div><div class="ttdoc">Finish set/store request and report result. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:171</div></div>
<div class="ttc" id="structevo_1_1_async_server_handler_html_af5055605e320b3f9ea9fa330b57604e7af27f56f0e106de313bf2b94fe19d90e4"><div class="ttname"><a href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7af27f56f0e106de313bf2b94fe19d90e4">evo::AsyncServerHandler::rtNORMAL</a></div><div class="ttdoc">Normal response. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:376</div></div>
<div class="ttc" id="classevo_1_1_async_server_reply_t_html_a082f17616755877afdbe5d5cf206b245"><div class="ttname"><a href="classevo_1_1_async_server_reply_t.html#a082f17616755877afdbe5d5cf206b245">evo::AsyncServerReplyT::WriterFlags</a></div><div class="ttdeci">WriterFlags</div><div class="ttdoc">Flags used with Writer. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:30</div></div>
<div class="ttc" id="classevo_1_1_string_html_a8d0ab0dce455fd7f47c86db4ee1aa528"><div class="ttname"><a href="classevo_1_1_string.html#a8d0ab0dce455fd7f47c86db4ee1aa528">evo::String::add</a></div><div class="ttdeci">String &amp; add(char ch)</div><div class="ttdoc">Append character (modifier). </div><div class="ttdef"><b>Definition:</b> string.h:2741</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_ab3e30b3c928187212e3c4d7636c3fdfda0e5723a1832049aadfb84709edef55c9"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#ab3e30b3c928187212e3c4d7636c3fdfda0e5723a1832049aadfb84709edef55c9">evo::async::MemcachedServerHandlerBase::grOK</a></div><div class="ttdoc">Success. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:104</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html_af8214e73894f8c231cd4c729f2a57a43"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#af8214e73894f8c231cd4c729f2a57a43">evo::async::MemcachedServerHandlerBase::DeferredReply::deferred_reply_delete</a></div><div class="ttdeci">void deferred_reply_delete(bool success)</div><div class="ttdoc">Finish delete request and report result. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:216</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a38e3444b800cf9c71516ed846e42785c"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a38e3444b800cf9c71516ed846e42785c">evo::async::MemcachedServerHandlerBase::TouchResult</a></div><div class="ttdeci">ResponseResult&lt; GeneralResultValue &gt; TouchResult</div><div class="ttdoc">TOUCH command result returned by on_touch() </div><div class="ttdef"><b>Definition:</b> memcached_server.h:112</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_ae38a6a10c57e8218af9a7c56e33a257f"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#ae38a6a10c57e8218af9a7c56e33a257f">evo::async::MemcachedServerHandlerBase::on_get</a></div><div class="ttdeci">virtual ResponseType on_get(DeferredContext &amp;context, const SubString &amp;key, GetAdvParams *adv_params)</div><div class="ttdoc">Called for each key in GET request. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:491</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_a57d71e19104af6fa1574d8267a940023"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#a57d71e19104af6fa1574d8267a940023">evo::async::MemcachedServer::handler</a></div><div class="ttdeci">Handler handler</div><div class="ttdoc">Handler instance. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:770</div></div>
<div class="ttc" id="structevo_1_1_logger_ptr_html_ac9518e7d358e6409c0af1358a96baaab"><div class="ttname"><a href="structevo_1_1_logger_ptr.html#ac9518e7d358e6409c0af1358a96baaab">evo::LoggerPtr::check</a></div><div class="ttdeci">bool check(LogLevel level) const</div><div class="ttdoc">Check whether a message with given level will actually be logged. </div><div class="ttdef"><b>Definition:</b> logger.h:418</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_aefaa5bc967e473b265d6d39c8244cb05"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#aefaa5bc967e473b265d6d39c8244cb05">evo::async::MemcachedServerHandlerBase::MemcachedServerHandlerBase</a></div><div class="ttdeci">MemcachedServerHandlerBase()</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:293</div></div>
<div class="ttc" id="group___evo_tools_html_ggaca1fd1d8935433e6ba2e3918214e07f9a5b40f003febbc3b535649d63f4b8a44f"><div class="ttname"><a href="group___evo_tools.html#ggaca1fd1d8935433e6ba2e3918214e07f9a5b40f003febbc3b535649d63f4b8a44f">evo::LOG_LEVEL_ERROR</a></div><div class="ttdoc">Error message showing something isn&amp;#39;t working as expected, program may be able to work around it (ERR...</div><div class="ttdef"><b>Definition:</b> logger.h:133</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2b6c82e536bad294ab9e380efc052b34"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2b6c82e536bad294ab9e380efc052b34">evo::async::MemcachedServerHandlerBase::GetStartResultValue</a></div><div class="ttdeci">GetStartResultValue</div><div class="ttdoc">GET command result from on_get_start(). </div><div class="ttdef"><b>Definition:</b> memcached_server.h:97</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_a376c49c030a2c9940012caa7f72ce071"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#a376c49c030a2c9940012caa7f72ce071">evo::async::MemcachedServer::on_read_fixed</a></div><div class="ttdeci">bool on_read_fixed(SizeT &amp;next_size, SubString &amp;data, void *context)</div><div class="ttdef"><b>Definition:</b> memcached_server.h:813</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params_html_a857deef5062d7df44f687fb2645e48d3"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a857deef5062d7df44f687fb2645e48d3">evo::async::MemcachedServerHandlerBase::StoreParams::expire</a></div><div class="ttdeci">int64 expire</div><div class="ttdoc">Expiration time in seconds from now, 0 for no expiration, negative to expire now, or a value greater ...</div><div class="ttdef"><b>Definition:</b> memcached_server.h:89</div></div>
<div class="ttc" id="structevo_1_1_sub_string_html_ad6cbb299e6ee2545df83c81dd1a92407"><div class="ttname"><a href="structevo_1_1_sub_string.html#ad6cbb299e6ee2545df83c81dd1a92407">evo::SubString::split</a></div><div class="ttdeci">bool split(char delim, T1 &amp;left, T2 &amp;right) const</div><div class="ttdoc">Split at first occurrence of delimiter into left/right substrings. </div><div class="ttdef"><b>Definition:</b> substring.h:976</div></div>
<div class="ttc" id="structevo_1_1_async_server_handler_html_af5055605e320b3f9ea9fa330b57604e7a07b3c775840f3f3b3faeb4e45b3b1eed"><div class="ttname"><a href="structevo_1_1_async_server_handler.html#af5055605e320b3f9ea9fa330b57604e7a07b3c775840f3f3b3faeb4e45b3b1eed">evo::AsyncServerHandler::rtHANDLED</a></div><div class="ttdoc">Response already sent so request is handled, use if error was sent. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:378</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html">evo::async::MemcachedServer</a></div><div class="ttdoc">Implements Memcached protocol for an async server. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:756</div></div>
<div class="ttc" id="classevo_1_1_string_html_a466a72cc9dd780bb3e38e55b8f225641"><div class="ttname"><a href="classevo_1_1_string.html#a466a72cc9dd780bb3e38e55b8f225641">evo::String::set</a></div><div class="ttdeci">String &amp; set()</div><div class="ttdoc">Set as null and empty. </div><div class="ttdef"><b>Definition:</b> string.h:995</div></div>
<div class="ttc" id="structevo_1_1_async_server_handler_html_a88bc77364d96b5dc40909cbbe63e69b6"><div class="ttname"><a href="structevo_1_1_async_server_handler.html#a88bc77364d96b5dc40909cbbe63e69b6">evo::AsyncServerHandler::reply</a></div><div class="ttdeci">AsyncServerReply reply</div><div class="ttdoc">Server reply manager, used to track deferred events and queue out of order replies. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:497</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html_abae750784101f4b82ff8b5526b630a63"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#abae750784101f4b82ff8b5526b630a63">evo::async::MemcachedServerHandlerBase::DeferredReply::deferred_reply_increment</a></div><div class="ttdeci">void deferred_reply_increment(UInt64 value)</div><div class="ttdoc">Finish increment/decrement request and report result. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:194</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_afef68d06e8a2bc9093529916b13231a1"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#afef68d06e8a2bc9093529916b13231a1">evo::async::MemcachedServer::Shared</a></div><div class="ttdeci">Handler::Shared Shared</div><div class="ttdoc">Alias for Handler::Shared. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:765</div></div>
<div class="ttc" id="structevo_1_1_async_server_handler_1_1_response_result_html_a0c4745bf49cf057bb5a955df37c5a4dc"><div class="ttname"><a href="structevo_1_1_async_server_handler_1_1_response_result.html#a0c4745bf49cf057bb5a955df37c5a4dc">evo::AsyncServerHandler::ResponseResult::type</a></div><div class="ttdeci">ResponseType type</div><div class="ttdoc">Response type – see ResponseType. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:392</div></div>
<div class="ttc" id="namespaceevo_html_acc6c0a7a5a715e4a53f0833762b25c7f"><div class="ttname"><a href="namespaceevo.html#acc6c0a7a5a715e4a53f0833762b25c7f">evo::SizeT</a></div><div class="ttdeci">uint32 SizeT</div><div class="ttdoc">Default Evo container size type. </div><div class="ttdef"><b>Definition:</b> sys.h:729</div></div>
<div class="ttc" id="structevo_1_1_sub_string_html"><div class="ttname"><a href="structevo_1_1_sub_string.html">evo::SubString</a></div><div class="ttdoc">Reference and access existing string data. </div><div class="ttdef"><b>Definition:</b> substring.h:229</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a3db82b705358de2ddbc0c3334c34f022"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a3db82b705358de2ddbc0c3334c34f022">evo::async::MemcachedServerHandlerBase::send_stat</a></div><div class="ttdeci">void send_stat(const SubString &amp;name, const SubString &amp;value)</div><div class="ttdoc">Helper for sending statistics. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:616</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_ad6a3ea3e4c1518f70953cf7199c00758"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#ad6a3ea3e4c1518f70953cf7199c00758">evo::async::MemcachedServer::on_read</a></div><div class="ttdeci">bool on_read(SizeT &amp;fixed_size, AsyncBuffers &amp;buffers, void *context)</div><div class="ttdef"><b>Definition:</b> memcached_server.h:852</div></div>
<div class="ttc" id="classevo_1_1_logger_base_html"><div class="ttname"><a href="classevo_1_1_logger_base.html">evo::LoggerBase</a></div><div class="ttdoc">Base class for Logger. </div><div class="ttdef"><b>Definition:</b> logger.h:273</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params_html"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_get_adv_params.html">evo::async::MemcachedServerHandlerBase::GetAdvParams</a></div><div class="ttdoc">Additional parameters for advanced GET request variants. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:123</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_a1f4051c1ca2d5a42fd2450e05aae5250"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#a1f4051c1ca2d5a42fd2450e05aae5250">evo::async::MemcachedServer::on_error</a></div><div class="ttdeci">void on_error(AsyncError err)</div><div class="ttdef"><b>Definition:</b> memcached_server.h:1144</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a41e995d85f0328f5fde237088dfbbdd0"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a41e995d85f0328f5fde237088dfbbdd0">evo::async::MemcachedServerHandlerBase::on_touch</a></div><div class="ttdeci">virtual TouchResult on_touch(DeferredContext &amp;context, const SubString &amp;key, int64 expire)</div><div class="ttdoc">Called on TOUCH request to update expiration of existing key without retrieving the value...</div><div class="ttdef"><b>Definition:</b> memcached_server.h:423</div></div>
<div class="ttc" id="structevo_1_1_async_server_handler_html"><div class="ttname"><a href="structevo_1_1_async_server_handler.html">evo::AsyncServerHandler</a></div><div class="ttdoc">Base async I/O server handler. </div><div class="ttdef"><b>Definition:</b> ioasync_server.h:282</div></div>
<div class="ttc" id="memcached__common_8h_html"><div class="ttname"><a href="memcached__common_8h.html">memcached_common.h</a></div><div class="ttdoc">Evo Async Memached API, common client/server types. </div></div>
<div class="ttc" id="structevo_1_1_string_int_html_acce0ab2cacc475b2434f24c65c91685a"><div class="ttname"><a href="structevo_1_1_string_int.html#acce0ab2cacc475b2434f24c65c91685a">evo::StringInt::size</a></div><div class="ttdeci">Size size() const</div><div class="ttdoc">Get formatting string size. </div><div class="ttdef"><b>Definition:</b> string.h:93</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params_html_a3b8489019e09eab9040c81d6d504600c"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_store_params.html#a3b8489019e09eab9040c81d6d504600c">evo::async::MemcachedServerHandlerBase::StoreParams::StoreParams</a></div><div class="ttdeci">StoreParams()</div><div class="ttdef"><b>Definition:</b> memcached_server.h:93</div></div>
<div class="ttc" id="sys_8h_html_a391a1798f93a89df401df9d91277904c"><div class="ttname"><a href="sys_8h.html#a391a1798f93a89df401df9d91277904c">EVO_PARAM_UNUSED</a></div><div class="ttdeci">#define EVO_PARAM_UNUSED(NAME)</div><div class="ttdoc">Mark function parameter as unused to suppress &quot;unreferenced parameter&quot; compiler warnings on it...</div><div class="ttdef"><b>Definition:</b> sys.h:427</div></div>
<div class="ttc" id="structevo_1_1_sub_string_html_a39a256207a84f316547e36c755373d03"><div class="ttname"><a href="structevo_1_1_sub_string.html#a39a256207a84f316547e36c755373d03">evo::SubString::data</a></div><div class="ttdeci">const char * data() const</div><div class="ttdoc">Get data pointer. </div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a2afce0a47a93eee73a314d53e4890153a30b57100d687fcc9b6b204b16529b593"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a2afce0a47a93eee73a314d53e4890153a30b57100d687fcc9b6b204b16529b593">evo::async::MemcachedServerHandlerBase::cENUM_END</a></div><div class="ttdoc">Enum guard value (always last) </div><div class="ttdef"><b>Definition:</b> memcached_server.h:61</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html_ad2d2a933d11660d0ceb0831a9fe03b23"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#ad2d2a933d11660d0ceb0831a9fe03b23">evo::async::MemcachedServerHandlerBase::DeferredReply::DeferredReply</a></div><div class="ttdeci">DeferredReply(DeferredContext &amp;context, ulong id)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:137</div></div>
<div class="ttc" id="classevo_1_1_string_html_a5da4c55aa3b7662f69c382001896d861"><div class="ttname"><a href="classevo_1_1_string.html#a5da4c55aa3b7662f69c382001896d861">evo::String::reserve</a></div><div class="ttdeci">String &amp; reserve(Size size, bool prefer_realloc=false)</div><div class="ttdoc">Reserve capacity for additional items (modifier). </div><div class="ttdef"><b>Definition:</b> string.h:5027</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply_html_acfda637979c6a98e5438164590c2f3dd"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base_1_1_deferred_reply.html#acfda637979c6a98e5438164590c2f3dd">evo::async::MemcachedServerHandlerBase::DeferredReply::deferred_reply_get_end</a></div><div class="ttdeci">void deferred_reply_get_end()</div><div class="ttdoc">Finish response for get request. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:273</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_html_ab3ab94c53a26a38ac0bf19c90c16fc4e"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server.html#ab3ab94c53a26a38ac0bf19c90c16fc4e">evo::async::MemcachedServer::HandlerBase</a></div><div class="ttdeci">MemcachedServerHandlerBase HandlerBase</div><div class="ttdoc">Alias for MemcachedServerHandlerBase. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:767</div></div>
<div class="ttc" id="structevo_1_1async_1_1_memcached_server_handler_base_html_a1f129ba20df6caed8d4226aec28a68d7"><div class="ttname"><a href="structevo_1_1async_1_1_memcached_server_handler_base.html#a1f129ba20df6caed8d4226aec28a68d7">evo::async::MemcachedServerHandlerBase::on_get_start</a></div><div class="ttdeci">virtual GetStartResult on_get_start(DeferredContext &amp;context, const SubString &amp;keys, GetAdvParams *adv_params)</div><div class="ttdoc">Called at the beginning of a GET request with all requested keys. </div><div class="ttdef"><b>Definition:</b> memcached_server.h:459</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2019 17:30:48 for Evo C++ Library v0.5.1 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
