<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Evo C++ Library v0.3: %String Parsing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Evo C++ Library v0.3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">String Parsing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This shows different approaches for string parsing.</p>
<dl class="section user"><dt>Check Null or Empty</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="comment">// Null string</span></div>
<div class="line"><span class="keywordflow">if</span> (str.null())</div>
<div class="line">    { }</div>
<div class="line"></div>
<div class="line"><span class="comment">// Empty string is either null or &quot;&quot;</span></div>
<div class="line"><span class="keywordflow">if</span> (str.empty())</div>
<div class="line">    { }</div>
<div class="line"></div>
<div class="line"><span class="comment">// Non-empty string</span></div>
<div class="line"><span class="keywordflow">if</span> (!str.empty())</div>
<div class="line">    { }</div>
</div><!-- fragment --><dl class="section user"><dt>Splitting</dt><dd></dd></dl>
<p>Splitting to substrings: </p>
<div class="fragment"><div class="line"><a class="code" href="classevo_1_1_string.html">evo::String</a> str(<span class="stringliteral">&quot;foo=bar&quot;</span>), left, right;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Split to left/right on first occurrence of &#39;=&#39;</span></div>
<div class="line">str.<a class="code" href="classevo_1_1_string.html#a1031324ddc0d652da97731943953e168">split</a>(<span class="charliteral">&#39;=&#39;</span>, left, right);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Split to just left</span></div>
<div class="line">str.split(<span class="charliteral">&#39;=&#39;</span>, left);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Split to just right</span></div>
<div class="line">str.split(<span class="charliteral">&#39;=&#39;</span>, <a class="code" href="namespaceevo.html#a87e905b740b8d611459b8f372aba9fbba78f287decc3e8c55032d61d43796f02c">vNull</a>, right);</div>
</div><!-- fragment --><p>Splitting to a list with generic conversion: </p>
<div class="fragment"><div class="line"><a class="code" href="classevo_1_1_string.html">evo::String</a> str(<span class="stringliteral">&quot;1,2,3&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Split into list</span></div>
<div class="line"><a class="code" href="classevo_1_1_list.html">evo::List&lt;evo::Int&gt;</a> nums;</div>
<div class="line">str.split(nums);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Join back into list</span></div>
<div class="line">str.join(nums.<a class="code" href="classevo_1_1_list.html#a759cf3f2fa21db209bf16e75aebda137">set</a>());</div>
</div><!-- fragment --><p>Splitting to a list with generic conversion and alternate tokenizer: </p>
<div class="fragment"><div class="line"><a class="code" href="classevo_1_1_string.html">evo::String</a> str(<span class="stringliteral">&quot;1,&#39;2,2&#39;,3&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Split into list, with tokenizer supporting quoting</span></div>
<div class="line"><a class="code" href="classevo_1_1_list.html">evo::List&lt;evo::String&gt;</a> nums;</div>
<div class="line">str.split&lt;<a class="code" href="structevo_1_1_str_tok_variant.html">evo::StrTokQ</a>&gt;(nums);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Join back into list, with quoting</span></div>
<div class="line">str.joinq(nums.<a class="code" href="classevo_1_1_list.html#a759cf3f2fa21db209bf16e75aebda137">set</a>());</div>
</div><!-- fragment --><dl class="section user"><dt>Tokenizing</dt><dd></dd></dl>
<p>Parse into substring tokens: </p>
<div class="fragment"><div class="line"><span class="comment">// Tokenize in order (left to right)</span></div>
<div class="line"><a class="code" href="classevo_1_1_str_tok.html">evo::StrTok</a> tok1(<span class="stringliteral">&quot;one,two,three&quot;</span>);</div>
<div class="line"><span class="keywordflow">while</span> (tok1.next(<span class="charliteral">&#39;,&#39;</span>))</div>
<div class="line">    cout &lt;&lt; tok1.value();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Tokenize in reverse (right to left)</span></div>
<div class="line"><a class="code" href="classevo_1_1_str_tok_r.html">evo::StrTokR</a> tok2(<span class="stringliteral">&quot;one,two,three&quot;</span>);</div>
<div class="line"><span class="keywordflow">while</span> (tok2.next(<span class="charliteral">&#39;,&#39;</span>))</div>
<div class="line">    cout &lt;&lt; tok2.value();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Tokenize with quoting -- using StrTokQ</span></div>
<div class="line"><a class="code" href="structevo_1_1_str_tok_variant.html">evo::StrTokQ</a> tok3(<span class="stringliteral">&quot;one,&#39;two,two&#39;,three&quot;</span>);</div>
<div class="line"><span class="keywordflow">while</span> (tok3.next(<span class="charliteral">&#39;,&#39;</span>))</div>
<div class="line">    cout &lt;&lt; tok3.value();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Tokenize with quoting -- using nextq()</span></div>
<div class="line"><a class="code" href="classevo_1_1_str_tok.html">evo::StrTok</a> tok4(<span class="stringliteral">&quot;one,&#39;two,two&#39;,three&quot;</span>);</div>
<div class="line"><span class="keywordflow">while</span> (tok4.nextq(<span class="charliteral">&#39;,&#39;</span>))</div>
<div class="line">    cout &lt;&lt; tok4.value();</div>
</div><!-- fragment --><dl class="section user"><dt>Quoting</dt><dd></dd></dl>
<p>For delimited text Evo uses quoting over escaping and avoids having to mutate tokens by adding or filtering escape characters (like backslash). Multiple quoting types are supported to handle any text.</p>
<p>No quoting:</p>
<ul>
<li>If a token doesn't begin and end with quotes then it's considered unquoted</li>
<li>The parser doesn't get confused when quotes appear in unquoted tokens: f'oo,b'ar parses to f'oo and b'ar</li>
</ul>
<p>Single-char quoting:</p>
<ul>
<li>Single-quotes: 'foo bar'</li>
<li>Double-quotes: "foo bar"</li>
<li>Backtick-quotes: `foo bar`</li>
</ul>
<p>Triple quoting:</p>
<ul>
<li>Triple single-quotes: '''foo bar'''</li>
<li>Triple double-quotes: """foo bar"""</li>
<li>Triple backtick-quotes: ```foo bar```</li>
</ul>
<p>Backtick-DEL quoting:</p>
<ul>
<li>This is single-backtick quoting with a DEL char (code 7F, shown as ␡) added after each backtick: `␡foo bar`␡</li>
<li>The DEL char is not normally used at all with text, and can still be used as a delimiter</li>
<li>Only used if no other quoting is possible, which is rare </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 29 2016 02:21:21 for Evo C++ Library v0.3 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
